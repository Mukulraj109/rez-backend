# ===================================
# PRODUCTION ENVIRONMENT CONFIGURATION
# ===================================
# Copy this file to .env.production and fill in actual values
# NEVER commit .env.production to git!

# Server Configuration
NODE_ENV=production
PORT=5001
BASE_URL=https://api.rezapp.com

# Database Configuration
MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/rez?retryWrites=true&w=majority
MONGODB_MAX_POOL_SIZE=100
MONGODB_MIN_POOL_SIZE=10

# Redis Configuration
REDIS_URL=redis://production-redis:6379
REDIS_PASSWORD=your-redis-password
REDIS_DB=0
REDIS_MAX_RETRIES=3

# JWT Configuration
JWT_SECRET=generate-with-openssl-rand-hex-32
JWT_MERCHANT_SECRET=generate-with-openssl-rand-hex-32
JWT_EXPIRES_IN=7d
JWT_REFRESH_EXPIRES_IN=30d

# Cloudinary Configuration
CLOUDINARY_CLOUD_NAME=your-cloud-name
CLOUDINARY_API_KEY=your-api-key
CLOUDINARY_API_SECRET=your-api-secret
CLOUDINARY_UPLOAD_PRESET=production-preset
CLOUDINARY_FOLDER=production

# Email Service (SendGrid)
SENDGRID_API_KEY=SG.your-sendgrid-api-key
SENDGRID_FROM_EMAIL=noreply@rezapp.com
SENDGRID_FROM_NAME=REZ App
SENDGRID_VERIFIED_SENDER=true

# SMS Service (Twilio)
TWILIO_ACCOUNT_SID=ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
TWILIO_AUTH_TOKEN=your-twilio-auth-token
TWILIO_PHONE_NUMBER=+1234567890
TWILIO_VERIFY_SERVICE_SID=VAxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Payment Gateway (Razorpay)
RAZORPAY_KEY_ID=rzp_live_xxxxxxxxxxxxxxxx
RAZORPAY_KEY_SECRET=your-razorpay-secret
RAZORPAY_WEBHOOK_SECRET=your-webhook-secret
RAZORPAY_ACCOUNT_NUMBER=your-account-number

# Monitoring & Error Tracking
SENTRY_DSN=https://xxxxxxxxxxxxx@sentry.io/xxxxxxx
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.1
SENTRY_RELEASE=merchant-backend@1.0.0

NEW_RELIC_LICENSE_KEY=your-new-relic-license-key
NEW_RELIC_APP_NAME=REZ Merchant Backend
NEW_RELIC_LOG_LEVEL=info

# CORS Configuration
ALLOWED_ORIGINS=https://app.rezapp.com,https://admin.rezapp.com,https://merchant.rezapp.com
CORS_CREDENTIALS=true

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=false

# Security
BCRYPT_ROUNDS=12
ENCRYPTION_KEY=generate-with-openssl-rand-hex-32
SESSION_SECRET=generate-with-openssl-rand-hex-32
HELMET_ENABLED=true
CSRF_ENABLED=true

# File Upload
MAX_FILE_SIZE=10485760
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/webp,application/pdf
UPLOAD_DIR=/app/uploads

# Logging
LOG_LEVEL=info
LOG_FORMAT=json
LOG_DIR=/app/logs
LOG_MAX_SIZE=20m
LOG_MAX_FILES=14d

# Performance
COMPRESSION_ENABLED=true
COMPRESSION_THRESHOLD=1024
CACHE_TTL=3600
ENABLE_CLUSTERING=true

# Feature Flags
ENABLE_ANALYTICS=true
ENABLE_NOTIFICATIONS=true
ENABLE_WEBHOOKS=true
ENABLE_CRON_JOBS=true

# External Services
GOOGLE_MAPS_API_KEY=your-google-maps-api-key
FIREBASE_PROJECT_ID=your-firebase-project
FIREBASE_PRIVATE_KEY=your-firebase-private-key
FIREBASE_CLIENT_EMAIL=your-firebase-client-email

# Backup & Recovery
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
S3_BACKUP_BUCKET=rez-backups
S3_REGION=us-east-1

# Health Check
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_PATH=/health
READY_CHECK_PATH=/ready

# Webhooks
WEBHOOK_TIMEOUT=5000
WEBHOOK_RETRY_ATTEMPTS=3
WEBHOOK_RETRY_DELAY=1000

# Session
SESSION_LIFETIME=86400
SESSION_CLEANUP_INTERVAL=3600

# Admin
ADMIN_EMAIL=admin@rezapp.com
SUPPORT_EMAIL=support@rezapp.com

# Timezone
TZ=UTC
