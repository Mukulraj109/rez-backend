
> user-backend@1.0.0 test
> jest

(node:25436) [MONGOOSE] Warning: Duplicate schema index on {"phoneNumber":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
(Use `node --trace-warnings ...` to show where the warning was created)
(node:25436) [MONGOOSE] Warning: Duplicate schema index on {"email":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
(node:25436) [MONGOOSE] Warning: Duplicate schema index on {"referral.referralCode":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
(node:25436) [MONGOOSE] Warning: Duplicate schema index on {"profile.location.coordinates":"2dsphere"} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
(node:25436) [MONGOOSE] Warning: Duplicate schema index on {"referralCode":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
(node:25436) [MONGOOSE] Warning: Duplicate schema index on {"username":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
(node:25436) [MONGOOSE] Warning: Duplicate schema index on {"transactionId":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
(node:25436) [MONGOOSE] Warning: Duplicate schema index on {"expiresAt":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
(node:25436) [MONGOOSE] Warning: Duplicate schema index on {"transactionId":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
(node:25436) [MONGOOSE] Warning: Duplicate schema index on {"expiresAt":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
(node:25436) [MONGOOSE] Warning: Duplicate schema index on {"user":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
  console.log
    Downloading MongoDB "7.0.14": 0% (0mb / 591.6mb)[0G

      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)

  console.log
    Downloading MongoDB "7.0.14": 0.8% (4.7mb / 591.6mb)[0G

      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)

  console.log
    Downloading MongoDB "7.0.14": 1.5% (8.6mb / 591.6mb)[0G

      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)

  console.log
    Downloading MongoDB "7.0.14": 2.1% (12.2mb / 591.6mb)[0G

      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)

  console.log
    Downloading MongoDB "7.0.14": 2.6% (15.6mb / 591.6mb)[0G

      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)

  console.log
    Downloading MongoDB "7.0.14": 3.2% (18.7mb / 591.6mb)[0G

      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)

  console.log
    Downloading MongoDB "7.0.14": 3.3% (19.4mb / 591.6mb)[0G

      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)

  console.log
    Downloading MongoDB "7.0.14": 3.5% (20.7mb / 591.6mb)[0G

      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)

  console.log
    Downloading MongoDB "7.0.14": 4.5% (26.5mb / 591.6mb)[0G

      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)

  console.log
    Downloading MongoDB "7.0.14": 4.9% (28.7mb / 591.6mb)[0G

      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)

  console.log
    Downloading MongoDB "7.0.14": 6.2% (36.8mb / 591.6mb)[0G

      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)

  console.log
    Downloading MongoDB "7.0.14": 6.6% (38.8mb / 591.6mb)[0G

      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)

  console.log
    Downloading MongoDB "7.0.14": 7.4% (43.8mb / 591.6mb)[0G

      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)

  console.log
    Downloading MongoDB "7.0.14": 8.3% (49.2mb / 591.6mb)[0G

      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)

  console.log
    Downloading MongoDB "7.0.14": 8.9% (52.7mb / 591.6mb)[0G

      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)

  console.log
    Downloading MongoDB "7.0.14": 9.4% (55.8mb / 591.6mb)[0G

      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)

  console.log
    Downloading MongoDB "7.0.14": 10% (58.9mb / 591.6mb)[0G

      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)

  console.log
    Downloading MongoDB "7.0.14": 10.6% (62.9mb / 591.6mb)[0G

      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)

  console.log
    Downloading MongoDB "7.0.14": 12% (70.9mb / 591.6mb)[0G

      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)

  console.error
    ‚ùå Test cleanup failed: MongooseError: Operation `transactions.deleteMany()` buffering timed out after 10000ms
        at Timeout.<anonymous> (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\mongoose\lib\drivers\node-mongodb-native\collection.js:187:23)
        at listOnTimeout (node:internal/timers:573:17)
        at processTimers (node:internal/timers:514:7)

    [0m [90m 26 |[39m     }
     [90m 27 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 28 |[39m     console[33m.[39merror([32m'‚ùå Test cleanup failed:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 29 |[39m   }
     [90m 30 |[39m })[33m;[39m
     [90m 31 |[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:28:13)

  console.log
    Downloading MongoDB "7.0.14": 12.6% (74.5mb / 591.6mb)[0G

      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)

  console.log
    Downloading MongoDB "7.0.14": 13.3% (79mb / 591.6mb)[0G

      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)

  console.log
    Downloading MongoDB "7.0.14": 14% (83mb / 591.6mb)[0G

      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)

  console.log
    Downloading MongoDB "7.0.14": 14.8% (87.5mb / 591.6mb)[0G

      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)

  console.log
    Downloading MongoDB "7.0.14": 15.6% (92.2mb / 591.6mb)[0G

      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)

  console.error
    ‚ùå Test cleanup failed: MongooseError: Operation `transactions.deleteMany()` buffering timed out after 10000ms
        at Timeout.<anonymous> (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\mongoose\lib\drivers\node-mongodb-native\collection.js:187:23)
        at listOnTimeout (node:internal/timers:573:17)
        at processTimers (node:internal/timers:514:7)

    [0m [90m 26 |[39m     }
     [90m 27 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 28 |[39m     console[33m.[39merror([32m'‚ùå Test cleanup failed:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 29 |[39m   }
     [90m 30 |[39m })[33m;[39m
     [90m 31 |[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:28:13)

  console.log
    Downloading MongoDB "7.0.14": 16% (94.6mb / 591.6mb)[0G

      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)

  console.log
    Downloading MongoDB "7.0.14": 17.3% (102.3mb / 591.6mb)[0G

      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)

  console.log
    Downloading MongoDB "7.0.14": 18% (106.7mb / 591.6mb)[0G

      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)

  console.log
    Downloading MongoDB "7.0.14": 19.1% (113.1mb / 591.6mb)[0G

      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)

  console.log
    Downloading MongoDB "7.0.14": 20% (118.1mb / 591.6mb)[0G

      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)

  console.error
    ‚ùå Test cleanup failed: MongooseError: Operation `transactions.deleteMany()` buffering timed out after 10000ms
        at Timeout.<anonymous> (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\mongoose\lib\drivers\node-mongodb-native\collection.js:187:23)
        at listOnTimeout (node:internal/timers:573:17)
        at processTimers (node:internal/timers:514:7)

    [0m [90m 26 |[39m     }
     [90m 27 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 28 |[39m     console[33m.[39merror([32m'‚ùå Test cleanup failed:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 29 |[39m   }
     [90m 30 |[39m })[33m;[39m
     [90m 31 |[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:28:13)

  console.log
    Downloading MongoDB "7.0.14": 21.2% (125.6mb / 591.6mb)[0G

      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)

  console.log
    Downloading MongoDB "7.0.14": 22.8% (134.6mb / 591.6mb)[0G

      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)

  console.log
    Downloading MongoDB "7.0.14": 24.2% (143.2mb / 591.6mb)[0G

      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)

  console.log
    Downloading MongoDB "7.0.14": 25.9% (153.3mb / 591.6mb)[0G

      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)

  console.log
    Downloading MongoDB "7.0.14": 26.9% (159.2mb / 591.6mb)[0G

      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)

  console.error
    ‚ùå Test cleanup failed: MongooseError: Operation `transactions.deleteMany()` buffering timed out after 10000ms
        at Timeout.<anonymous> (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\mongoose\lib\drivers\node-mongodb-native\collection.js:187:23)
        at listOnTimeout (node:internal/timers:573:17)
        at processTimers (node:internal/timers:514:7)

    [0m [90m 26 |[39m     }
     [90m 27 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 28 |[39m     console[33m.[39merror([32m'‚ùå Test cleanup failed:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 29 |[39m   }
     [90m 30 |[39m })[33m;[39m
     [90m 31 |[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:28:13)

  console.log
    Downloading MongoDB "7.0.14": 28.7% (169.7mb / 591.6mb)[0G

      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)

  console.log
    Downloading MongoDB "7.0.14": 30.4% (179.7mb / 591.6mb)[0G

      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)

  console.log
    Downloading MongoDB "7.0.14": 32.3% (191.1mb / 591.6mb)[0G

      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)

  console.log
    Downloading MongoDB "7.0.14": 34.5% (204.3mb / 591.6mb)[0G

      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)

  console.log
    Downloading MongoDB "7.0.14": 37.2% (220.2mb / 591.6mb)[0G

      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)

  console.error
    ‚ùå Test cleanup failed: MongooseError: Operation `transactions.deleteMany()` buffering timed out after 10000ms
        at Timeout.<anonymous> (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\mongoose\lib\drivers\node-mongodb-native\collection.js:187:23)
        at listOnTimeout (node:internal/timers:573:17)
        at processTimers (node:internal/timers:514:7)

    [0m [90m 26 |[39m     }
     [90m 27 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 28 |[39m     console[33m.[39merror([32m'‚ùå Test cleanup failed:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 29 |[39m   }
     [90m 30 |[39m })[33m;[39m
     [90m 31 |[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:28:13)

  console.log
    Downloading MongoDB "7.0.14": 38.9% (230.3mb / 591.6mb)[0G

      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)

  console.log
    Downloading MongoDB "7.0.14": 40.7% (241mb / 591.6mb)[0G

      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)

  console.log
    Downloading MongoDB "7.0.14": 43% (254.2mb / 591.6mb)[0G

      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)

  console.log
    Downloading MongoDB "7.0.14": 44.9% (265.8mb / 591.6mb)[0G

      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)

(node:20236) [MONGOOSE] Warning: Duplicate schema index on {"phoneNumber":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
(Use `node --trace-warnings ...` to show where the warning was created)
(node:20236) [MONGOOSE] Warning: Duplicate schema index on {"email":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
(node:20236) [MONGOOSE] Warning: Duplicate schema index on {"referral.referralCode":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
(node:20236) [MONGOOSE] Warning: Duplicate schema index on {"profile.location.coordinates":"2dsphere"} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
(node:20236) [MONGOOSE] Warning: Duplicate schema index on {"referralCode":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
(node:20236) [MONGOOSE] Warning: Duplicate schema index on {"username":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
(node:20236) [MONGOOSE] Warning: Duplicate schema index on {"transactionId":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
(node:20236) [MONGOOSE] Warning: Duplicate schema index on {"expiresAt":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
(node:20236) [MONGOOSE] Warning: Duplicate schema index on {"user":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
  console.log
    Downloading MongoDB "7.0.14": 47.2% (279mb / 591.6mb)[0G

      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)

  console.error
    ‚ùå Test cleanup failed: MongooseError: Operation `transactions.deleteMany()` buffering timed out after 10000ms
        at Timeout.<anonymous> (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\mongoose\lib\drivers\node-mongodb-native\collection.js:187:23)
        at listOnTimeout (node:internal/timers:573:17)
        at processTimers (node:internal/timers:514:7)

    [0m [90m 26 |[39m     }
     [90m 27 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 28 |[39m     console[33m.[39merror([32m'‚ùå Test cleanup failed:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 29 |[39m   }
     [90m 30 |[39m })[33m;[39m
     [90m 31 |[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:28:13)

  console.log
    Downloading MongoDB "7.0.14": 49.8% (294.5mb / 591.6mb)[0G

      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)

  console.log
    Downloading MongoDB "7.0.14": 52.2% (308.6mb / 591.6mb)[0G

      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)

  console.log
    Downloading MongoDB "7.0.14": 54% (319.4mb / 591.6mb)[0G

      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)

  console.log
    Downloading MongoDB "7.0.14": 55.5% (328.6mb / 591.6mb)[0G

      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)

  console.log
    Downloading MongoDB "7.0.14": 57.9% (342.8mb / 591.6mb)[0G

      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)

  console.error
    ‚ùå Test cleanup failed: MongooseError: Operation `transactions.deleteMany()` buffering timed out after 10000ms
        at Timeout.<anonymous> (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\mongoose\lib\drivers\node-mongodb-native\collection.js:187:23)
        at listOnTimeout (node:internal/timers:573:17)
        at processTimers (node:internal/timers:514:7)

    [0m [90m 26 |[39m     }
     [90m 27 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 28 |[39m     console[33m.[39merror([32m'‚ùå Test cleanup failed:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 29 |[39m   }
     [90m 30 |[39m })[33m;[39m
     [90m 31 |[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:28:13)

  console.log
    Downloading MongoDB "7.0.14": 60.9% (360.6mb / 591.6mb)[0G

      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)

  console.log
    Downloading MongoDB "7.0.14": 62.9% (372.1mb / 591.6mb)[0G

      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)

  console.log
    Downloading MongoDB "7.0.14": 64.1% (379.4mb / 591.6mb)[0G

      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)

  console.log
    Downloading MongoDB "7.0.14": 64.2% (379.7mb / 591.6mb)[0G

      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)

  console.log
    ‚úÖ Partner Service Tests Completed

      at Object.<anonymous> (src/__tests__/partnerService.test.ts:488:9)

(node:41640) [MONGOOSE] Warning: Duplicate schema index on {"userId":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
(Use `node --trace-warnings ...` to show where the warning was created)
(node:41640) [MONGOOSE] Warning: Duplicate schema index on {"phoneNumber":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
(node:41640) [MONGOOSE] Warning: Duplicate schema index on {"email":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
(node:41640) [MONGOOSE] Warning: Duplicate schema index on {"referral.referralCode":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
(node:41640) [MONGOOSE] Warning: Duplicate schema index on {"profile.location.coordinates":"2dsphere"} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
(node:41640) [MONGOOSE] Warning: Duplicate schema index on {"referralCode":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
(node:41640) [MONGOOSE] Warning: Duplicate schema index on {"username":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
(node:41640) [MONGOOSE] Warning: Duplicate schema index on {"orderNumber":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
(node:41640) [MONGOOSE] Warning: Duplicate schema index on {"user":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
  console.log
    Downloading MongoDB "7.0.14": 64.2% (380mb / 591.6mb)[0G

      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)

  console.error
    ‚ùå Test cleanup failed: MongooseError: Operation `transactions.deleteMany()` buffering timed out after 10000ms
        at Timeout.<anonymous> (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\mongoose\lib\drivers\node-mongodb-native\collection.js:187:23)
        at listOnTimeout (node:internal/timers:573:17)
        at processTimers (node:internal/timers:514:7)

    [0m [90m 26 |[39m     }
     [90m 27 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 28 |[39m     console[33m.[39merror([32m'‚ùå Test cleanup failed:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 29 |[39m   }
     [90m 30 |[39m })[33m;[39m
     [90m 31 |[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:28:13)

  console.log
    Downloading MongoDB "7.0.14": 64.3% (380.2mb / 591.6mb)[0G

      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)

  console.log
    Downloading MongoDB "7.0.14": 64.3% (380.5mb / 591.6mb)[0G

      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)

  console.log
    Downloading MongoDB "7.0.14": 64.3% (380.6mb / 591.6mb)[0G

      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)

  console.log
    Downloading MongoDB "7.0.14": 64.4% (380.9mb / 591.6mb)[0G

      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)

  console.error
    ‚ùå Test database disconnection failed: TypeError: Cannot read properties of undefined (reading 'stop')
        at Object.<anonymous> (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\src\__tests__\setup.ts:36:23)

    [0m [90m 37 |[39m     console[33m.[39mlog([32m'‚úÖ Test database disconnected'[39m)[33m;[39m
     [90m 38 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 39 |[39m     console[33m.[39merror([32m'‚ùå Test database disconnection failed:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 40 |[39m   }
     [90m 41 |[39m })[33m;[39m
     [90m 42 |[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:39:13)

FAIL src/__tests__/referralService.test.ts (210.541 s)
  Referral Service
    createReferral
      √ó should create a new referral relationship (174 ms)
      √ó should throw error if referral already exists (2 ms)
    getReferralStats
      √ó should calculate correct referral statistics (1 ms)
      √ó should return zero stats for user with no referrals (2 ms)
    validateReferralCode
      √ó should validate correct referral code (3 ms)
      √ó should reject invalid referral code (2 ms)
    processFirstOrder
      √ó should credit referrer on referee first order (2 ms)
      √ó should mark referral as completed when both rewarded (4 ms)
    Security and Data Privacy
      √ó should not log PII in referral creation (4 ms)

  ‚óè Referral Service ‚Ä∫ createReferral ‚Ä∫ should create a new referral relationship

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m  5 |[39m
     [90m  6 |[39m [90m// Setup before all tests[39m
    [31m[1m>[22m[39m[90m  7 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m  8 |[39m   [36mtry[39m {
     [90m  9 |[39m     mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 10 |[39m     [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:7:1)

  ‚óè Referral Service ‚Ä∫ createReferral ‚Ä∫ should throw error if referral already exists

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m  5 |[39m
     [90m  6 |[39m [90m// Setup before all tests[39m
    [31m[1m>[22m[39m[90m  7 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m  8 |[39m   [36mtry[39m {
     [90m  9 |[39m     mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 10 |[39m     [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:7:1)

  ‚óè Referral Service ‚Ä∫ getReferralStats ‚Ä∫ should calculate correct referral statistics

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m  5 |[39m
     [90m  6 |[39m [90m// Setup before all tests[39m
    [31m[1m>[22m[39m[90m  7 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m  8 |[39m   [36mtry[39m {
     [90m  9 |[39m     mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 10 |[39m     [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:7:1)

  ‚óè Referral Service ‚Ä∫ getReferralStats ‚Ä∫ should return zero stats for user with no referrals

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m  5 |[39m
     [90m  6 |[39m [90m// Setup before all tests[39m
    [31m[1m>[22m[39m[90m  7 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m  8 |[39m   [36mtry[39m {
     [90m  9 |[39m     mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 10 |[39m     [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:7:1)

  ‚óè Referral Service ‚Ä∫ validateReferralCode ‚Ä∫ should validate correct referral code

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m  5 |[39m
     [90m  6 |[39m [90m// Setup before all tests[39m
    [31m[1m>[22m[39m[90m  7 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m  8 |[39m   [36mtry[39m {
     [90m  9 |[39m     mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 10 |[39m     [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:7:1)

  ‚óè Referral Service ‚Ä∫ validateReferralCode ‚Ä∫ should reject invalid referral code

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m  5 |[39m
     [90m  6 |[39m [90m// Setup before all tests[39m
    [31m[1m>[22m[39m[90m  7 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m  8 |[39m   [36mtry[39m {
     [90m  9 |[39m     mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 10 |[39m     [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:7:1)

  ‚óè Referral Service ‚Ä∫ processFirstOrder ‚Ä∫ should credit referrer on referee first order

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m  5 |[39m
     [90m  6 |[39m [90m// Setup before all tests[39m
    [31m[1m>[22m[39m[90m  7 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m  8 |[39m   [36mtry[39m {
     [90m  9 |[39m     mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 10 |[39m     [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:7:1)

  ‚óè Referral Service ‚Ä∫ processFirstOrder ‚Ä∫ should mark referral as completed when both rewarded

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m  5 |[39m
     [90m  6 |[39m [90m// Setup before all tests[39m
    [31m[1m>[22m[39m[90m  7 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m  8 |[39m   [36mtry[39m {
     [90m  9 |[39m     mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 10 |[39m     [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:7:1)

  ‚óè Referral Service ‚Ä∫ Security and Data Privacy ‚Ä∫ should not log PII in referral creation

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m  5 |[39m
     [90m  6 |[39m [90m// Setup before all tests[39m
    [31m[1m>[22m[39m[90m  7 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m  8 |[39m   [36mtry[39m {
     [90m  9 |[39m     mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 10 |[39m     [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:7:1)

  console.log
    Downloading MongoDB "7.0.14": 64.5% (381.4mb / 591.6mb)[0G

      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)

FAIL src/__tests__/services/AnalyticsService.test.ts
  ‚óè Test suite failed to run

    [96msrc/__tests__/services/AnalyticsService.test.ts[0m:[93m12[0m:[93m47[0m - [91merror[0m[90m TS2554: [0mExpected 3 arguments, but got 1.

    [7m12[0m       const overview = await AnalyticsService.getSalesOverview(merchant._id.toString());
    [7m  [0m [91m                                              ~~~~~~~~~~~~~~~~[0m

      [96msrc/merchantservices/AnalyticsService.ts[0m:[93m97[0m:[93m5[0m
        [7m97[0m     startDate: Date,
        [7m  [0m [96m    ~~~~~~~~~~~~~~~[0m
        An argument for 'startDate' was not provided.

  console.error
    ‚ùå Test cleanup failed: MongooseError: Operation `transactions.deleteMany()` buffering timed out after 10000ms
        at Timeout.<anonymous> (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\mongoose\lib\drivers\node-mongodb-native\collection.js:187:23)
        at listOnTimeout (node:internal/timers:573:17)
        at processTimers (node:internal/timers:514:7)

    [0m [90m 26 |[39m     }
     [90m 27 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 28 |[39m     console[33m.[39merror([32m'‚ùå Test cleanup failed:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 29 |[39m   }
     [90m 30 |[39m })[33m;[39m
     [90m 31 |[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:28:13)

  console.log
    Downloading MongoDB "7.0.14": 64.5% (381.5mb / 591.6mb)[0G

      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)

  console.log
    Downloading MongoDB "7.0.14": 64.6% (382mb / 591.6mb)[0G

      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)

  console.log
    Downloading MongoDB "7.0.14": 64.6% (382.3mb / 591.6mb)[0G

      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)

  console.log
    Downloading MongoDB "7.0.14": 64.6% (382.3mb / 591.6mb)[0G

      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)



#
# Fatal error in , line 0
# Fatal process out of memory: Zone
#
#
#
#FailureMessage Object: 00000038EE5F5650
----- Native stack trace -----



#
# Fatal error in , line 0
# Fatal process out of memory: Zone
#
#
#
#FailureMessage Object: 00000057881F5B30
----- Native stack trace -----



#
# Fatal error in , line 0
# Fatal process out of memory: Zone
#
#
#
#FailureMessage Object: 00000057889F5870
----- Native stack trace -----

  console.log
    Downloading MongoDB "7.0.14": 64.7% (382.6mb / 591.6mb)[0G

      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)



#
# Fatal error in , line 0
# Fatal process out of memory: Zone
#
#
#
#FailureMessage Object: 00000057871F58C0
----- Native stack trace -----



#
# Fatal error in , line 0
# Fatal process out of memory: Zone
#
#
#
#FailureMessage Object: 00000057879F5A40
----- Native stack trace -----

 1: 00007FF75A046CEB 
 1: 00007FF75A046CEB 
 1: 00007FF75A046CEB 
 2: 00007FF759F3C57F 
 2: 00007FF759F3C57F 
 3: 00007FF75AE3D042 
 4: 00007FF75AA19663 
 2: 00007FF759F3C57F 
 5: 00007FF75A4FBA74 
 6: 00007FF75A3227B0 
 3: 00007FF75AE3D042 
 7: 00007FF75AE8209A 
 4: 00007FF75AA19663 
 8: 00007FF75AE7F8CA 
 5: 00007FF75A4FBA74 
 9: 00007FF75B014642 
 6: 00007FF75B02BACD 
10: 00007FF75B01D8C1 
 7: 00007FF75B02C18A 
11: 00007FF75B01F33A 
 8: 00007FF75B0314F3 
12: 00007FF75B01B879 
 9: 00007FF75B030083 
13: 00007FF75B0154C6 
10: 00007FF75AF4FE27 
14: 00007FF75AF4FE27 
15: 00007FF75AF04E71 
11: 00007FF75AF04E71 
16: 00007FF75AF4FA34 
12: 00007FF75AF4FA34 
17: 00007FF75AF501A6 
18: 00007FF75AF4FEB2 
19: 00007FF75AF06334 
20: 00007FF75AEFE02F 
21: 00007FF75AEFEB85 
22: 00007FF75A987E71 
23: 00007FF75A954D91 
24: 00007FF759F3F05D 
25: 00007FF75A09A99D 
26: 00007FF75B25FF10 
27: 00007FFF6B96E8D7 
28: 00007FFF6C26C53C 
13: 00007FF75AF501A6 
14: 00007FF75AF4FEB2 
 3: 00007FF75AE3D042 
 4: 00007FF75AA19663 
 5: 00007FF75A4FBA74 
 6: 00007FF75B02BACD 
 7: 00007FF75B02ECDB 
15: 00007FF75AF07016 
 8: 00007FF75B0320C2 
 9: 00007FF75B0300A1 
10: 00007FF75AF4FE27 
11: 00007FF75AF04E71 
16: 00007FF75AF02A5A 
12: 00007FF75AF4FA34 
17: 00007FF75AEFEBAA 
13: 00007FF75AF501A6 
14: 00007FF75AF4FEB2 
15: 00007FF75AF07016 
16: 00007FF75AF02A5A 
17: 00007FF75AEFEBAA 
18: 00007FF75A987E71 
18: 00007FF75A987E71 
19: 00007FF75A954D91 
19: 00007FF75A954D91 
20: 00007FF759F3F05D 
20: 00007FF759F3F05D 
21: 00007FF75A09A99D 
21: 00007FF75A09A99D 
22: 00007FF75B25FF10 
22: 00007FF75B25FF10 
23: 00007FFF6B96E8D7 
23: 00007FFF6B96E8D7 
24: 00007FFF6C26C53C 
24: 00007FFF6C26C53C 


#
# Fatal error in , line 0
# Fatal process out of memory: Zone
#
#
#
#FailureMessage Object: 00000038ED5F5710
----- Native stack trace -----


<--- Last few GCs --->

[40460:00000205E153A5B0]   234682 ms: Scavenge 1062.2 (1098.6) -> 1052.1 (1102.9) MB, 168.76 / 0.02 ms  (average mu = 0.803, current mu = 0.752) allocation failure; 
[40460:00000205E153A5B0]   235739 ms: Scavenge 1066.8 (1103.4) -> 1056.5 (1104.9) MB, 44.10 / 0.00 ms  (average mu = 0.803, current mu = 0.752) allocation failure; 
[40460:00000205E153A5B0]   235880 ms: Scavenge 1058.2 (1105.3) -> 1056.8 (1109.1) MB, 61.93 / 0.00 ms  (average mu = 0.803, current mu = 0.752) allocation failure; 


<--- JS stacktrace --->

 1: 00007FF75A046CEB 
 2: 00007FF759F3C57F 
 3: 00007FF75AE3D042 
 4: 00007FF75AA19663 
 5: 00007FF75A4FBA74 
 6: 00007FF75AF5AF5E 
 7: 00007FF75AF54D02 
 8: 00007FF75AEFD202 
 9: 00007FF75AF09791 
10: 00007FF75AF03C1F 
11: 00007FF75AEFEBAA 
12: 00007FF75A987E71 
13: 00007FF75A954D91 
14: 00007FF759F3F05D 
15: 00007FF75A09A99D 
16: 00007FF75B25FF10 
17: 00007FFF6B96E8D7 
18: 00007FFF6C26C53C 


#
# Fatal error in , line 0
# Fatal process out of memory: Zone
#
#
#
#FailureMessage Object: 00000038EDDF5DB0
----- Native stack trace -----

 1: 00007FF75A046CEB 


#
# Fatal error in , line 0
# Fatal process out of memory: Zone
#
#
#
#FailureMessage Object: 00000038ECDF5170
----- Native stack trace -----

 2: 00007FF759F3C57F 
 3: 00007FF75AE3D042 
 4: 00007FF75AA19663 
 5: 00007FF75A4FBA74 
 6: 00007FF75AF7957D 
 7: 00007FF75AF7969E 
 8: 00007FF75AF06A45 
 9: 00007FF75AF03105 
10: 00007FF75AEFEBAA 
11: 00007FF75A987E71 
12: 00007FF75A954D91 
13: 00007FF759F3F05D 
14: 00007FF75A09A99D 
15: 00007FF75B25FF10 
16: 00007FFF6B96E8D7 
17: 00007FFF6C26C53C 
FATAL ERROR: Zone Allocation failed - process out of memory
----- Native stack trace -----

 1: 00007FF75A046CEB 
 2: 00007FF759F3C57F 
 3: 00007FF75AE3D042 
 4: 00007FF75AA19663 
 5: 00007FF75A4FBA74 
 6: 00007FF75AE7D8C4 
 7: 00007FF75AECD9FA 
 8: 00007FF75AFF723B 
 9: 00007FF75AEE8811 
10: 00007FF75AFD19B0 
11: 00007FF75AFCE7A6 
12: 00007FF75AFF728A 
13: 00007FF75AFD1415 
14: 00007FF75AFD5460 
15: 00007FF75AFE4B34 
16: 00007FF75AFE29CE 
17: 00007FF75AFD1FB9 
18: 00007FF75AF4FE27 
19: 00007FF75AF04E71 
20: 00007FF75AF4FA34 
21: 00007FF75AF501A6 
22: 00007FF75AF4FEB2 
23: 00007FF75AF06334 
24: 00007FF75AEFE02F 
25: 00007FF75AEFEB85 
26: 00007FF75A987E71 
27: 00007FF75A954D91 
28: 00007FF759F3F05D 
29: 00007FF75A09A99D 
30: 00007FF75B25FF10 
31: 00007FFF6B96E8D7 
32: 00007FFF6C26C53C 
 1: 00007FF75A046CEB 
 2: 00007FF759FB8A74 
 3: 00007FF75AA30101 
 4: 00007FF75AA19858 
 5: 00007FF75A4FBA74 
 6: 00007FF75B0A4F46 
 7: 00007FF75B0A4D9B 
 8: 00007FF75AF16DB1 
 9: 00007FF75AF01F71 
10: 00007FF75AF03F64 
11: 00007FF75A98D057 
12: 00007FF75A986FCA 
13: 00007FF75A986CC6 
14: 00007FF75A98A53C 
15: 00007FF75A985335 
16: 00007FF75A56647E 
17: 00007FF6FAA9AAFA 
 1: 00007FF75A046CEB 
 2: 00007FF759F3C57F 
 3: 00007FF75AE3D042 
 4: 00007FF75AA19663 
 5: 00007FF75A4FBA74 
 6: 00007FF75AF43BD7 
 7: 00007FF75AF423A8 
 8: 00007FF75AF4243C 
 9: 00007FF75AEB3A6A 
10: 00007FF75AECC5B5 
11: 00007FF75AECC9C0 
12: 00007FF75AF4583D 
13: 00007FF75AF45076 
14: 00007FF75AF44580 
15: 00007FF75AF06531 
16: 00007FF75AF0940B 
17: 00007FF75AF03C1F 
18: 00007FF75AEFEBAA 
19: 00007FF75A987E71 
20: 00007FF75A954D91 
21: 00007FF759F3F05D 
22: 00007FF75A09A99D 
23: 00007FF75B25FF10 
24: 00007FFF6B96E8D7 
25: 00007FFF6C26C53C 
  console.error
    ‚ùå Test cleanup failed: MongooseError: Operation `transactions.deleteMany()` buffering timed out after 10000ms
        at Timeout.<anonymous> (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\mongoose\lib\drivers\node-mongodb-native\collection.js:187:23)
        at listOnTimeout (node:internal/timers:573:17)
        at processTimers (node:internal/timers:514:7)

    [0m [90m 26 |[39m     }
     [90m 27 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 28 |[39m     console[33m.[39merror([32m'‚ùå Test cleanup failed:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 29 |[39m   }
     [90m 30 |[39m })[33m;[39m
     [90m 31 |[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:28:13)

  console.error
    ‚ùå Test cleanup failed: MongooseError: Operation `merchants.deleteMany()` buffering timed out after 10000ms
        at Timeout.<anonymous> (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\mongoose\lib\drivers\node-mongodb-native\collection.js:187:23)
        at listOnTimeout (node:internal/timers:573:17)
        at processTimers (node:internal/timers:514:7)

    [0m [90m 26 |[39m     }
     [90m 27 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 28 |[39m     console[33m.[39merror([32m'‚ùå Test cleanup failed:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 29 |[39m   }
     [90m 30 |[39m })[33m;[39m
     [90m 31 |[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:28:13)

FAIL src/__tests__/services/OnboardingService.test.ts
  ‚óè Test suite failed to run

    Jest worker ran out of memory and crashed

      at ChildProcessWorker._onExit (node_modules/jest-worker/build/index.js:928:26)

  console.log
    Downloading MongoDB "7.0.14": 64.7% (382.6mb / 591.6mb)[0G

      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)

  console.log
    Downloading MongoDB "7.0.14": 64.7% (383.1mb / 591.6mb)[0G

      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)

  console.log
    Downloading MongoDB "7.0.14": 64.8% (383.7mb / 591.6mb)[0G

      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)

  console.log
    Downloading MongoDB "7.0.14": 65% (384.6mb / 591.6mb)[0G

      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)

  console.log
    Downloading MongoDB "7.0.14": 65.1% (385.1mb / 591.6mb)[0G

      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)

  console.error
    ‚ùå Test cleanup failed: MongooseError: Operation `merchants.deleteMany()` buffering timed out after 10000ms
        at Timeout.<anonymous> (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\mongoose\lib\drivers\node-mongodb-native\collection.js:187:23)
        at listOnTimeout (node:internal/timers:573:17)
        at processTimers (node:internal/timers:514:7)

    [0m [90m 26 |[39m     }
     [90m 27 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 28 |[39m     console[33m.[39merror([32m'‚ùå Test cleanup failed:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 29 |[39m   }
     [90m 30 |[39m })[33m;[39m
     [90m 31 |[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:28:13)

  console.error
    ‚ùå Test cleanup failed: MongooseError: Operation `transactions.deleteMany()` buffering timed out after 10000ms
        at Timeout.<anonymous> (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\mongoose\lib\drivers\node-mongodb-native\collection.js:187:23)
        at listOnTimeout (node:internal/timers:573:17)
        at processTimers (node:internal/timers:514:7)

    [0m [90m 26 |[39m     }
     [90m 27 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 28 |[39m     console[33m.[39merror([32m'‚ùå Test cleanup failed:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 29 |[39m   }
     [90m 30 |[39m })[33m;[39m
     [90m 31 |[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:28:13)

  console.error
    ‚ùå Test database disconnection failed: TypeError: Cannot read properties of undefined (reading 'stop')
        at Object.<anonymous> (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\src\__tests__\setup.ts:36:23)

    [0m [90m 37 |[39m     console[33m.[39mlog([32m'‚úÖ Test database disconnected'[39m)[33m;[39m
     [90m 38 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 39 |[39m     console[33m.[39merror([32m'‚ùå Test database disconnection failed:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 40 |[39m   }
     [90m 41 |[39m })[33m;[39m
     [90m 42 |[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:39:13)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 65.2% (385.6mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)

FAIL src/__tests__/referralController.test.ts (252.634 s)
  Referral Controller
    getReferralCode
      √ó should return referral code for authenticated user (10292 ms)
      √ó should generate referral code if not exists (10236 ms)
      √ó should return 401 if user not authenticated (10166 ms)
      √ó should return 404 if user not found (10057 ms)
    shareReferralLink
      √ó should validate platform parameter (10133 ms)
      √ó should accept valid platforms (10031 ms)
      √ó should reject non-string platform (10012 ms)
    getReferralStats
      √ó should return stats for authenticated user (11233 ms)
    Security Tests
      √ó should not expose PII in logs (18874 ms)
      √ó should sanitize userId in logs (16441 ms)
    Referral Code Generation
      √ó should generate cryptographically secure referral codes (11333 ms)

  ‚óè Referral Controller ‚Ä∫ getReferralCode ‚Ä∫ should return referral code for authenticated user

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m  5 |[39m
     [90m  6 |[39m [90m// Setup before all tests[39m
    [31m[1m>[22m[39m[90m  7 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m  8 |[39m   [36mtry[39m {
     [90m  9 |[39m     mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 10 |[39m     [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:7:1)

  ‚óè Referral Controller ‚Ä∫ getReferralCode ‚Ä∫ should generate referral code if not exists

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m  5 |[39m
     [90m  6 |[39m [90m// Setup before all tests[39m
    [31m[1m>[22m[39m[90m  7 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m  8 |[39m   [36mtry[39m {
     [90m  9 |[39m     mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 10 |[39m     [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:7:1)

  ‚óè Referral Controller ‚Ä∫ getReferralCode ‚Ä∫ should return 401 if user not authenticated

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m  5 |[39m
     [90m  6 |[39m [90m// Setup before all tests[39m
    [31m[1m>[22m[39m[90m  7 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m  8 |[39m   [36mtry[39m {
     [90m  9 |[39m     mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 10 |[39m     [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:7:1)

  ‚óè Referral Controller ‚Ä∫ getReferralCode ‚Ä∫ should return 404 if user not found

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m  5 |[39m
     [90m  6 |[39m [90m// Setup before all tests[39m
    [31m[1m>[22m[39m[90m  7 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m  8 |[39m   [36mtry[39m {
     [90m  9 |[39m     mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 10 |[39m     [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:7:1)

  ‚óè Referral Controller ‚Ä∫ shareReferralLink ‚Ä∫ should validate platform parameter

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m  5 |[39m
     [90m  6 |[39m [90m// Setup before all tests[39m
    [31m[1m>[22m[39m[90m  7 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m  8 |[39m   [36mtry[39m {
     [90m  9 |[39m     mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 10 |[39m     [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:7:1)

  ‚óè Referral Controller ‚Ä∫ shareReferralLink ‚Ä∫ should accept valid platforms

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m  5 |[39m
     [90m  6 |[39m [90m// Setup before all tests[39m
    [31m[1m>[22m[39m[90m  7 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m  8 |[39m   [36mtry[39m {
     [90m  9 |[39m     mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 10 |[39m     [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:7:1)

  ‚óè Referral Controller ‚Ä∫ shareReferralLink ‚Ä∫ should reject non-string platform

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m  5 |[39m
     [90m  6 |[39m [90m// Setup before all tests[39m
    [31m[1m>[22m[39m[90m  7 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m  8 |[39m   [36mtry[39m {
     [90m  9 |[39m     mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 10 |[39m     [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:7:1)

  ‚óè Referral Controller ‚Ä∫ getReferralStats ‚Ä∫ should return stats for authenticated user

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m  5 |[39m
     [90m  6 |[39m [90m// Setup before all tests[39m
    [31m[1m>[22m[39m[90m  7 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m  8 |[39m   [36mtry[39m {
     [90m  9 |[39m     mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 10 |[39m     [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:7:1)

  ‚óè Referral Controller ‚Ä∫ Security Tests ‚Ä∫ should not expose PII in logs

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m  5 |[39m
     [90m  6 |[39m [90m// Setup before all tests[39m
    [31m[1m>[22m[39m[90m  7 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m  8 |[39m   [36mtry[39m {
     [90m  9 |[39m     mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 10 |[39m     [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:7:1)

  ‚óè Referral Controller ‚Ä∫ Security Tests ‚Ä∫ should sanitize userId in logs

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m  5 |[39m
     [90m  6 |[39m [90m// Setup before all tests[39m
    [31m[1m>[22m[39m[90m  7 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m  8 |[39m   [36mtry[39m {
     [90m  9 |[39m     mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 10 |[39m     [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:7:1)

  ‚óè Referral Controller ‚Ä∫ Referral Code Generation ‚Ä∫ should generate cryptographically secure referral codes

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m  5 |[39m
     [90m  6 |[39m [90m// Setup before all tests[39m
    [31m[1m>[22m[39m[90m  7 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m  8 |[39m   [36mtry[39m {
     [90m  9 |[39m     mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 10 |[39m     [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:7:1)

  console.error
    ‚ùå Test cleanup failed: MongooseError: Operation `merchants.deleteMany()` buffering timed out after 10000ms
        at Timeout.<anonymous> (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\mongoose\lib\drivers\node-mongodb-native\collection.js:187:23)
        at listOnTimeout (node:internal/timers:573:17)
        at processTimers (node:internal/timers:514:7)

    [0m [90m 26 |[39m     }
     [90m 27 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 28 |[39m     console[33m.[39merror([32m'‚ùå Test cleanup failed:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 29 |[39m   }
     [90m 30 |[39m })[33m;[39m
     [90m 31 |[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:28:13)

  console.log
    
    ‚úÖ Diversity Service Test Suite Complete

      at Object.<anonymous> (src/__tests__/diversityService.test.ts:508:9)

  console.log
    üìä Test Coverage:

      at Object.<anonymous> (src/__tests__/diversityService.test.ts:509:9)

  console.log
       - Category balancing

      at Object.<anonymous> (src/__tests__/diversityService.test.ts:510:9)

  console.log
       - Brand balancing

      at Object.<anonymous> (src/__tests__/diversityService.test.ts:511:9)

  console.log
       - Price range balancing

      at Object.<anonymous> (src/__tests__/diversityService.test.ts:512:9)

  console.log
       - Diversity score calculation

      at Object.<anonymous> (src/__tests__/diversityService.test.ts:513:9)

  console.log
       - Diversity mode application

      at Object.<anonymous> (src/__tests__/diversityService.test.ts:514:9)

  console.log
       - Metadata generation

      at Object.<anonymous> (src/__tests__/diversityService.test.ts:515:9)

  console.log
       - Edge cases

      at Object.<anonymous> (src/__tests__/diversityService.test.ts:516:9)

  console.log
       - Performance tests

      at Object.<anonymous> (src/__tests__/diversityService.test.ts:517:9)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 65.2% (385.7mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)

  console.error
    ‚ùå Test cleanup failed: MongooseError: Operation `merchants.deleteMany()` buffering timed out after 10000ms
        at Timeout.<anonymous> (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\mongoose\lib\drivers\node-mongodb-native\collection.js:187:23)
        at listOnTimeout (node:internal/timers:573:17)
        at processTimers (node:internal/timers:514:7)

    [0m [90m 26 |[39m     }
     [90m 27 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 28 |[39m     console[33m.[39merror([32m'‚ùå Test cleanup failed:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 29 |[39m   }
     [90m 30 |[39m })[33m;[39m
     [90m 31 |[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:28:13)

  console.log
    [dotenv@17.2.1] injecting env (75) from .env -- tip: ‚öôÔ∏è  suppress all logs with { quiet: true }

      at _log (node_modules/dotenv/lib/main.js:139:11)

  console.log
    [dotenv@17.2.1] injecting env (75) from .env -- tip: ‚öôÔ∏è  suppress all logs with { quiet: true }

      at _log (node_modules/dotenv/lib/main.js:139:11)

  console.error
    Cleanup error: ModuleNotFoundError: Cannot find module '../../models/TeamInvitation' from 'src/__tests__/helpers/testUtils.ts'
        at Resolver._throwModNotFoundError (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-resolve\build\index.js:863:11)
        at Resolver.resolveModule (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-resolve\build\index.js:810:10)
        at Resolver._getVirtualMockPath (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-resolve\build\index.js:1004:84)
        at Resolver._getAbsolutePath (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-resolve\build\index.js:984:98)
        at Resolver.getModuleID (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-resolve\build\index.js:949:31)
        at Runtime._shouldMockCjs (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-runtime\build\index.js:1486:37)
        at Runtime.requireModuleOrMock (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-runtime\build\index.js:961:16)
        at cleanupTestData (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\src\__tests__\helpers\testUtils.ts:171:32)
        at Object.<anonymous> (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\src\__tests__\routes\onboarding.test.ts:6:26)
        at Promise.finally.completed (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:1557:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:1497:10)
        at _callCircusHook (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:976:40)
        at _runTest (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:949:5)
        at C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:849:7
        at _runTestsForDescribeBlock (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:862:11)
        at _runTestsForDescribeBlock (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:857:11)
        at _runTestsForDescribeBlock (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:857:11)
        at run (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:761:3)
        at runAndTransformResultsToJestFormat (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:1918:21)
        at jestAdapter (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\runner.js:101:19)
        at runTestInternal (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-runner\build\testWorker.js:275:16)
        at runTest (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-runner\build\testWorker.js:343:7)
        at Object.worker (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-runner\build\testWorker.js:497:12) {
      code: 'MODULE_NOT_FOUND',
      hint: '',
      requireStack: undefined,
      siblingWithSimilarExtensionFound: false,
      moduleName: '../../models/TeamInvitation',
      _originalMessage: "Cannot find module '../../models/TeamInvitation' from 'src/__tests__/helpers/testUtils.ts'"
    }

    [0m [90m 180 |[39m     ])[33m;[39m
     [90m 181 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 182 |[39m     console[33m.[39merror([32m'Cleanup error:'[39m[33m,[39m error)[33m;[39m
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 183 |[39m   }
     [90m 184 |[39m }[33m;[39m
     [90m 185 |[39m[0m

      at cleanupTestData (src/__tests__/helpers/testUtils.ts:182:13)
      at Object.<anonymous> (src/__tests__/routes/onboarding.test.ts:6:26)

(node:5788) [MONGOOSE] Warning: Duplicate schema index on {"timestamp":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
(Use `node --trace-warnings ...` to show where the warning was created)
  console.error
    ‚ùå Test cleanup failed: MongooseError: Operation `partners.deleteMany()` buffering timed out after 10000ms
        at Timeout.<anonymous> (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\mongoose\lib\drivers\node-mongodb-native\collection.js:187:23)
        at listOnTimeout (node:internal/timers:573:17)
        at processTimers (node:internal/timers:514:7)

    [0m [90m 26 |[39m     }
     [90m 27 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 28 |[39m     console[33m.[39merror([32m'‚ùå Test cleanup failed:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 29 |[39m   }
     [90m 30 |[39m })[33m;[39m
     [90m 31 |[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:28:13)

(node:40628) [MONGOOSE] Warning: Duplicate schema index on {"orderNumber":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
(Use `node --trace-warnings ...` to show where the warning was created)
(node:40628) [MONGOOSE] Warning: Duplicate schema index on {"slug":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
(node:40628) [MONGOOSE] Warning: Duplicate schema index on {"sku":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
  console.error
    Could NOT download "https://fastdl.mongodb.org/windows/mongodb-windows-x86_64-7.0.14.zip"! getaddrinfo ENOTFOUND fastdl.mongodb.org

      at RedirectableRequest.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:621:17)
      at ClientRequest.eventHandlers.<computed> (node_modules/follow-redirects/index.js:49:24)

  console.log
    ‚úÖ Twilio SMS client initialized

      at new PushNotificationService (src/services/pushNotificationService.ts:43:17)

  console.log
    ‚úÖ Twilio SMS client initialized

      at new PushNotificationService (src/services/pushNotificationService.ts:43:17)

  console.error
    ‚ùå Test cleanup failed: MongooseError: Operation `merchants.deleteMany()` buffering timed out after 10000ms
        at Timeout.<anonymous> (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\mongoose\lib\drivers\node-mongodb-native\collection.js:187:23)
        at listOnTimeout (node:internal/timers:573:17)
        at processTimers (node:internal/timers:514:7)

    [0m [90m 26 |[39m     }
     [90m 27 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 28 |[39m     console[33m.[39merror([32m'‚ùå Test cleanup failed:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 29 |[39m   }
     [90m 30 |[39m })[33m;[39m
     [90m 31 |[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:28:13)

  console.error
    ‚ùå Test database disconnection failed: TypeError: Cannot read properties of undefined (reading 'stop')
        at Object.<anonymous> (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\src\__tests__\setup.ts:36:23)

    [0m [90m 37 |[39m     console[33m.[39mlog([32m'‚úÖ Test database disconnected'[39m)[33m;[39m
     [90m 38 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 39 |[39m     console[33m.[39merror([32m'‚ùå Test database disconnection failed:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 40 |[39m   }
     [90m 41 |[39m })[33m;[39m
     [90m 42 |[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:39:13)

  console.error
    ‚ùå Test cleanup failed: MongooseError: Operation `partners.deleteMany()` buffering timed out after 10000ms
        at Timeout.<anonymous> (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\mongoose\lib\drivers\node-mongodb-native\collection.js:187:23)
        at listOnTimeout (node:internal/timers:573:17)
        at processTimers (node:internal/timers:514:7)

    [0m [90m 26 |[39m     }
     [90m 27 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 28 |[39m     console[33m.[39merror([32m'‚ùå Test cleanup failed:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 29 |[39m   }
     [90m 30 |[39m })[33m;[39m
     [90m 31 |[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:28:13)

FAIL src/__tests__/routes/onboarding.test.ts (282.626 s)
  Onboarding Routes
    GET /api/merchant/onboarding/status
      √ó should get onboarding status (23939 ms)

  ‚óè Onboarding Routes ‚Ä∫ GET /api/merchant/onboarding/status ‚Ä∫ should get onboarding status

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m  5 |[39m
     [90m  6 |[39m [90m// Setup before all tests[39m
    [31m[1m>[22m[39m[90m  7 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m  8 |[39m   [36mtry[39m {
     [90m  9 |[39m     mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 10 |[39m     [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:7:1)

  console.error
    Cleanup error: ModuleNotFoundError: Cannot find module '../../models/TeamInvitation' from 'src/__tests__/helpers/testUtils.ts'
        at Resolver._throwModNotFoundError (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-resolve\build\index.js:863:11)
        at Resolver.resolveModule (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-resolve\build\index.js:810:10)
        at Resolver._getVirtualMockPath (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-resolve\build\index.js:1004:84)
        at Resolver._getAbsolutePath (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-resolve\build\index.js:984:98)
        at Resolver.getModuleID (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-resolve\build\index.js:949:31)
        at Runtime._shouldMockCjs (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-runtime\build\index.js:1486:37)
        at Runtime.requireModuleOrMock (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-runtime\build\index.js:961:16)
        at cleanupTestData (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\src\__tests__\helpers\testUtils.ts:171:32)
        at Object.<anonymous> (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\src\__tests__\routes\team.test.ts:6:26)
        at Promise.finally.completed (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:1557:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:1497:10)
        at _callCircusHook (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:976:40)
        at _runTest (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:949:5)
        at C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:849:7
        at _runTestsForDescribeBlock (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:862:11)
        at _runTestsForDescribeBlock (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:857:11)
        at _runTestsForDescribeBlock (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:857:11)
        at run (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:761:3)
        at runAndTransformResultsToJestFormat (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:1918:21)
        at jestAdapter (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\runner.js:101:19)
        at runTestInternal (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-runner\build\testWorker.js:275:16)
        at runTest (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-runner\build\testWorker.js:343:7)
        at Object.worker (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-runner\build\testWorker.js:497:12) {
      code: 'MODULE_NOT_FOUND',
      hint: '',
      requireStack: undefined,
      siblingWithSimilarExtensionFound: false,
      moduleName: '../../models/TeamInvitation',
      _originalMessage: "Cannot find module '../../models/TeamInvitation' from 'src/__tests__/helpers/testUtils.ts'"
    }

    [0m [90m 180 |[39m     ])[33m;[39m
     [90m 181 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 182 |[39m     console[33m.[39merror([32m'Cleanup error:'[39m[33m,[39m error)[33m;[39m
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 183 |[39m   }
     [90m 184 |[39m }[33m;[39m
     [90m 185 |[39m[0m

      at cleanupTestData (src/__tests__/helpers/testUtils.ts:182:13)
      at Object.<anonymous> (src/__tests__/routes/team.test.ts:6:26)

(node:32400) [MONGOOSE] Warning: Duplicate schema index on {"timestamp":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
(Use `node --trace-warnings ...` to show where the warning was created)
  console.log
    [dotenv@17.2.1] injecting env (75) from .env -- tip: ‚öôÔ∏è  specify custom .env file path with { path: '/custom/path/.env' }

      at _log (node_modules/dotenv/lib/main.js:139:11)

  console.log
    [dotenv@17.2.1] injecting env (0) from .env -- tip: üõ†Ô∏è  run anywhere with `dotenvx run -- yourcommand`

      at _log (node_modules/dotenv/lib/main.js:139:11)

  console.log
    üîç Twilio Debug: {
      accountSid: 'ACcfacaa...',
      authToken: '658a6993...',
      phoneNumber: '8210224305'
    }

      at Object.<anonymous> (src/controllers/authController.ts:34:9)

  console.log
    üîç Twilio configuration: {
      hasAccountSid: true,
      hasAuthToken: true,
      phoneNumber: '+918210224305',
      isDevelopment: false
    }

      at Object.<anonymous> (src/controllers/authController.ts:47:9)

  console.log
    ‚úÖ Twilio client initialized successfully

      at Object.<anonymous> (src/controllers/authController.ts:59:13)

  console.log
    [dotenv@17.2.1] injecting env (0) from .env -- tip: ‚öôÔ∏è  specify custom .env file path with { path: '/custom/path/.env' }

      at _log (node_modules/dotenv/lib/main.js:139:11)

  console.log
    üîç Twilio Debug: {
      accountSid: 'ACcfacaa...',
      authToken: '658a6993...',
      phoneNumber: '8210224305'
    }

      at Object.<anonymous> (src/controllers/authController.ts:34:9)

  console.log
    üîç Twilio configuration: {
      hasAccountSid: true,
      hasAuthToken: true,
      phoneNumber: '+918210224305',
      isDevelopment: false
    }

      at Object.<anonymous> (src/controllers/authController.ts:47:9)

  console.log
    ‚úÖ Twilio client initialized successfully

      at Object.<anonymous> (src/controllers/authController.ts:59:13)

  console.error
    Cleanup error: ModuleNotFoundError: Cannot find module '../../models/TeamInvitation' from 'src/__tests__/helpers/testUtils.ts'
        at Resolver._throwModNotFoundError (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-resolve\build\index.js:863:11)
        at Resolver.resolveModule (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-resolve\build\index.js:810:10)
        at Resolver._getVirtualMockPath (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-resolve\build\index.js:1004:84)
        at Resolver._getAbsolutePath (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-resolve\build\index.js:984:98)
        at Resolver.getModuleID (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-resolve\build\index.js:949:31)
        at Runtime._shouldMockCjs (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-runtime\build\index.js:1486:37)
        at Runtime.requireModuleOrMock (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-runtime\build\index.js:961:16)
        at cleanupTestData (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\src\__tests__\helpers\testUtils.ts:171:32)
        at Object.<anonymous> (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\src\__tests__\e2e\team-collaboration.e2e.test.ts:6:26)
        at Promise.finally.completed (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:1557:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:1497:10)
        at _callCircusHook (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:976:40)
        at _runTestsForDescribeBlock (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:891:7)
        at _runTestsForDescribeBlock (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:857:11)
        at run (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:761:3)
        at runAndTransformResultsToJestFormat (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:1918:21)
        at jestAdapter (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\runner.js:101:19)
        at runTestInternal (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-runner\build\testWorker.js:275:16)
        at runTest (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-runner\build\testWorker.js:343:7)
        at Object.worker (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-runner\build\testWorker.js:497:12) {
      code: 'MODULE_NOT_FOUND',
      hint: '',
      requireStack: undefined,
      siblingWithSimilarExtensionFound: false,
      moduleName: '../../models/TeamInvitation',
      _originalMessage: "Cannot find module '../../models/TeamInvitation' from 'src/__tests__/helpers/testUtils.ts'"
    }

    [0m [90m 180 |[39m     ])[33m;[39m
     [90m 181 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 182 |[39m     console[33m.[39merror([32m'Cleanup error:'[39m[33m,[39m error)[33m;[39m
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 183 |[39m   }
     [90m 184 |[39m }[33m;[39m
     [90m 185 |[39m[0m

      at cleanupTestData (src/__tests__/helpers/testUtils.ts:182:13)
      at Object.<anonymous> (src/__tests__/e2e/team-collaboration.e2e.test.ts:6:26)

  console.log
    [dotenv@17.2.1] injecting env (0) from .env -- tip: üõ†Ô∏è  run anywhere with `dotenvx run -- yourcommand`

      at _log (node_modules/dotenv/lib/main.js:139:11)

  console.log
    [dotenv@17.2.1] injecting env (0) from .env -- tip: üõ†Ô∏è  run anywhere with `dotenvx run -- yourcommand`

      at _log (node_modules/dotenv/lib/main.js:139:11)

  console.log
    ‚òÅÔ∏è  [CLOUDINARY] Configuration loaded: {
      cloud_name: 'dsuakj68p',
      api_key_present: true,
      api_secret_present: true
    }

      at Object.<anonymous> (src/middleware/upload.ts:20:9)

  console.log
    ‚òÅÔ∏è  [CLOUDINARY] Configuration loaded: {
      cloud_name: 'dsuakj68p',
      api_key_present: true,
      api_secret_present: true
    }

      at Object.<anonymous> (src/middleware/upload.ts:20:9)

  console.error
    ‚ùå Test database disconnection failed: TypeError: Cannot read properties of undefined (reading 'stop')
        at Object.<anonymous> (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\src\__tests__\setup.ts:36:23)

    [0m [90m 37 |[39m     console[33m.[39mlog([32m'‚úÖ Test database disconnected'[39m)[33m;[39m
     [90m 38 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 39 |[39m     console[33m.[39merror([32m'‚ùå Test database disconnection failed:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 40 |[39m   }
     [90m 41 |[39m })[33m;[39m
     [90m 42 |[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:39:13)

  console.error
    Could NOT download "https://fastdl.mongodb.org/windows/mongodb-windows-x86_64-7.0.14.zip"! getaddrinfo ENOTFOUND fastdl.mongodb.org

      at RedirectableRequest.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:621:17)
      at ClientRequest.eventHandlers.<computed> (node_modules/follow-redirects/index.js:49:24)

  console.log
    ‚úÖ Twilio SMS client initialized

      at new PushNotificationService (src/services/pushNotificationService.ts:43:17)

  console.log
    [dotenv@17.2.1] injecting env (0) from .env -- tip: ‚öôÔ∏è  write to custom object with { processEnv: myObject }

      at _log (node_modules/dotenv/lib/main.js:139:11)

  console.log
    üîç Twilio Debug: {
      accountSid: 'ACcfacaa...',
      authToken: '658a6993...',
      phoneNumber: '8210224305'
    }

      at Object.<anonymous> (src/controllers/authController.ts:34:9)

  console.log
    üîç Twilio configuration: {
      hasAccountSid: true,
      hasAuthToken: true,
      phoneNumber: '+918210224305',
      isDevelopment: false
    }

      at Object.<anonymous> (src/controllers/authController.ts:47:9)

  console.log
    ‚úÖ Twilio client initialized successfully

      at Object.<anonymous> (src/controllers/authController.ts:59:13)

  console.error
    ‚ùå Test cleanup failed: MongooseError: Operation `partners.deleteMany()` buffering timed out after 10000ms
        at Timeout.<anonymous> (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\mongoose\lib\drivers\node-mongodb-native\collection.js:187:23)
        at listOnTimeout (node:internal/timers:573:17)
        at processTimers (node:internal/timers:514:7)

    [0m [90m 26 |[39m     }
     [90m 27 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 28 |[39m     console[33m.[39merror([32m'‚ùå Test cleanup failed:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 29 |[39m   }
     [90m 30 |[39m })[33m;[39m
     [90m 31 |[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:28:13)

  console.log
    [dotenv@17.2.1] injecting env (0) from .env -- tip: ‚öôÔ∏è  enable debug logging with { debug: true }

      at _log (node_modules/dotenv/lib/main.js:139:11)

  console.log
    ‚òÅÔ∏è  [CLOUDINARY] Configuration loaded: {
      cloud_name: 'dsuakj68p',
      api_key_present: true,
      api_secret_present: true
    }

      at Object.<anonymous> (src/middleware/upload.ts:20:9)

  console.error
    ‚ùå Test cleanup failed: MongooseError: Operation `merchants.deleteMany()` buffering timed out after 10000ms
        at Timeout.<anonymous> (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\mongoose\lib\drivers\node-mongodb-native\collection.js:187:23)
        at listOnTimeout (node:internal/timers:573:17)
        at processTimers (node:internal/timers:514:7)

    [0m [90m 26 |[39m     }
     [90m 27 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 28 |[39m     console[33m.[39merror([32m'‚ùå Test cleanup failed:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 29 |[39m   }
     [90m 30 |[39m })[33m;[39m
     [90m 31 |[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:28:13)

  console.error
    Cleanup error: ModuleNotFoundError: Cannot find module '../../models/TeamInvitation' from 'src/__tests__/helpers/testUtils.ts'
        at Resolver._throwModNotFoundError (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-resolve\build\index.js:863:11)
        at Resolver.resolveModule (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-resolve\build\index.js:810:10)
        at Resolver._getVirtualMockPath (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-resolve\build\index.js:1004:84)
        at Resolver._getAbsolutePath (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-resolve\build\index.js:984:98)
        at Resolver.getModuleID (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-resolve\build\index.js:949:31)
        at Runtime._shouldMockCjs (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-runtime\build\index.js:1486:37)
        at Runtime.requireModuleOrMock (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-runtime\build\index.js:961:16)
        at cleanupTestData (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\src\__tests__\helpers\testUtils.ts:171:32)
        at Object.<anonymous> (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\src\__tests__\routes\team.test.ts:6:26)
        at Promise.finally.completed (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:1557:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:1497:10)
        at _callCircusHook (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:976:40)
        at _runTest (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:949:5)
        at C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:849:7
        at _runTestsForDescribeBlock (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:862:11)
        at _runTestsForDescribeBlock (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:857:11)
        at _runTestsForDescribeBlock (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:857:11)
        at run (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:761:3)
        at runAndTransformResultsToJestFormat (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:1918:21)
        at jestAdapter (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\runner.js:101:19)
        at runTestInternal (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-runner\build\testWorker.js:275:16)
        at runTest (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-runner\build\testWorker.js:343:7)
        at Object.worker (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-runner\build\testWorker.js:497:12) {
      code: 'MODULE_NOT_FOUND',
      hint: '',
      requireStack: undefined,
      siblingWithSimilarExtensionFound: false,
      moduleName: '../../models/TeamInvitation',
      _originalMessage: "Cannot find module '../../models/TeamInvitation' from 'src/__tests__/helpers/testUtils.ts'"
    }

    [0m [90m 180 |[39m     ])[33m;[39m
     [90m 181 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 182 |[39m     console[33m.[39merror([32m'Cleanup error:'[39m[33m,[39m error)[33m;[39m
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 183 |[39m   }
     [90m 184 |[39m }[33m;[39m
     [90m 185 |[39m[0m

      at cleanupTestData (src/__tests__/helpers/testUtils.ts:182:13)
      at Object.<anonymous> (src/__tests__/routes/team.test.ts:6:26)

  console.error
    ‚ùå Test database disconnection failed: TypeError: Cannot read properties of undefined (reading 'stop')
        at Object.<anonymous> (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\src\__tests__\setup.ts:36:23)

    [0m [90m 37 |[39m     console[33m.[39mlog([32m'‚úÖ Test database disconnected'[39m)[33m;[39m
     [90m 38 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 39 |[39m     console[33m.[39merror([32m'‚ùå Test database disconnection failed:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 40 |[39m   }
     [90m 41 |[39m })[33m;[39m
     [90m 42 |[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:39:13)

FAIL src/__tests__/diversityService.test.ts (41.144 s)
  Diversity Service - Category Balancing
    √ó should limit products per category (30 ms)
    √ó should handle empty product array (1 ms)
    √ó should handle products with missing category (1 ms)
    √ó should handle complex category objects
  Diversity Service - Brand Balancing
    √ó should limit products per brand (25 ms)
    √ó should handle products with missing brand (1 ms)
    √ó should use store name as fallback for brand (1 ms)
  Diversity Service - Price Range Balancing
    √ó should stratify products by price (12 ms)
    √ó should handle all products with same price (14 ms)
    √ó should handle products with zero price (2 ms)
    √ó should handle different pricing schemas (24 ms)
  Diversity Service - Diversity Score Calculation
    √ó should return 0 for empty array (2 ms)
    √ó should return 1 for single product (1 ms)
    √ó should score diverse products higher
    √ó should return score between 0 and 1
  Diversity Service - Apply Diversity Mode
    √ó balanced mode should apply all balancing algorithms (1 ms)
    √ó category_diverse mode should prioritize category diversity
    √ó price_diverse mode should prioritize price diversity (15 ms)
    √ó should filter by minimum rating (1 ms)
    √ó should handle empty product array (2 ms)
  Diversity Service - Metadata Generation
    √ó should generate correct metadata
    √ó should handle products with missing data
  Diversity Service - Edge Cases
    √ó should handle products with null/undefined values (1 ms)
    √ó should handle very large product arrays
    √ó should handle products with identical attributes
  Diversity Service - Performance
    √ó calculateDiversityScore should be fast for large arrays (1 ms)
    √ó balanceByCategory should be fast for large arrays

  ‚óè Diversity Service - Category Balancing ‚Ä∫ should limit products per category

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m  5 |[39m
     [90m  6 |[39m [90m// Setup before all tests[39m
    [31m[1m>[22m[39m[90m  7 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m  8 |[39m   [36mtry[39m {
     [90m  9 |[39m     mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 10 |[39m     [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:7:1)

  ‚óè Diversity Service - Category Balancing ‚Ä∫ should handle empty product array

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m  5 |[39m
     [90m  6 |[39m [90m// Setup before all tests[39m
    [31m[1m>[22m[39m[90m  7 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m  8 |[39m   [36mtry[39m {
     [90m  9 |[39m     mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 10 |[39m     [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:7:1)

  ‚óè Diversity Service - Category Balancing ‚Ä∫ should handle products with missing category

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m  5 |[39m
     [90m  6 |[39m [90m// Setup before all tests[39m
    [31m[1m>[22m[39m[90m  7 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m  8 |[39m   [36mtry[39m {
     [90m  9 |[39m     mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 10 |[39m     [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:7:1)

  ‚óè Diversity Service - Category Balancing ‚Ä∫ should handle complex category objects

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m  5 |[39m
     [90m  6 |[39m [90m// Setup before all tests[39m
    [31m[1m>[22m[39m[90m  7 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m  8 |[39m   [36mtry[39m {
     [90m  9 |[39m     mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 10 |[39m     [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:7:1)

  ‚óè Diversity Service - Brand Balancing ‚Ä∫ should limit products per brand

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m  5 |[39m
     [90m  6 |[39m [90m// Setup before all tests[39m
    [31m[1m>[22m[39m[90m  7 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m  8 |[39m   [36mtry[39m {
     [90m  9 |[39m     mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 10 |[39m     [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:7:1)

  ‚óè Diversity Service - Brand Balancing ‚Ä∫ should handle products with missing brand

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m  5 |[39m
     [90m  6 |[39m [90m// Setup before all tests[39m
    [31m[1m>[22m[39m[90m  7 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m  8 |[39m   [36mtry[39m {
     [90m  9 |[39m     mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 10 |[39m     [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:7:1)

  ‚óè Diversity Service - Brand Balancing ‚Ä∫ should use store name as fallback for brand

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m  5 |[39m
     [90m  6 |[39m [90m// Setup before all tests[39m
    [31m[1m>[22m[39m[90m  7 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m  8 |[39m   [36mtry[39m {
     [90m  9 |[39m     mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 10 |[39m     [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:7:1)

  ‚óè Diversity Service - Price Range Balancing ‚Ä∫ should stratify products by price

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m  5 |[39m
     [90m  6 |[39m [90m// Setup before all tests[39m
    [31m[1m>[22m[39m[90m  7 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m  8 |[39m   [36mtry[39m {
     [90m  9 |[39m     mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 10 |[39m     [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:7:1)

  ‚óè Diversity Service - Price Range Balancing ‚Ä∫ should handle all products with same price

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m  5 |[39m
     [90m  6 |[39m [90m// Setup before all tests[39m
    [31m[1m>[22m[39m[90m  7 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m  8 |[39m   [36mtry[39m {
     [90m  9 |[39m     mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 10 |[39m     [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:7:1)

  ‚óè Diversity Service - Price Range Balancing ‚Ä∫ should handle products with zero price

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m  5 |[39m
     [90m  6 |[39m [90m// Setup before all tests[39m
    [31m[1m>[22m[39m[90m  7 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m  8 |[39m   [36mtry[39m {
     [90m  9 |[39m     mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 10 |[39m     [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:7:1)

  ‚óè Diversity Service - Price Range Balancing ‚Ä∫ should handle different pricing schemas

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m  5 |[39m
     [90m  6 |[39m [90m// Setup before all tests[39m
    [31m[1m>[22m[39m[90m  7 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m  8 |[39m   [36mtry[39m {
     [90m  9 |[39m     mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 10 |[39m     [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:7:1)

  ‚óè Diversity Service - Diversity Score Calculation ‚Ä∫ should return 0 for empty array

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m  5 |[39m
     [90m  6 |[39m [90m// Setup before all tests[39m
    [31m[1m>[22m[39m[90m  7 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m  8 |[39m   [36mtry[39m {
     [90m  9 |[39m     mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 10 |[39m     [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:7:1)

  ‚óè Diversity Service - Diversity Score Calculation ‚Ä∫ should return 1 for single product

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m  5 |[39m
     [90m  6 |[39m [90m// Setup before all tests[39m
    [31m[1m>[22m[39m[90m  7 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m  8 |[39m   [36mtry[39m {
     [90m  9 |[39m     mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 10 |[39m     [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:7:1)

  ‚óè Diversity Service - Diversity Score Calculation ‚Ä∫ should score diverse products higher

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m  5 |[39m
     [90m  6 |[39m [90m// Setup before all tests[39m
    [31m[1m>[22m[39m[90m  7 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m  8 |[39m   [36mtry[39m {
     [90m  9 |[39m     mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 10 |[39m     [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:7:1)

  ‚óè Diversity Service - Diversity Score Calculation ‚Ä∫ should return score between 0 and 1

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m  5 |[39m
     [90m  6 |[39m [90m// Setup before all tests[39m
    [31m[1m>[22m[39m[90m  7 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m  8 |[39m   [36mtry[39m {
     [90m  9 |[39m     mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 10 |[39m     [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:7:1)

  ‚óè Diversity Service - Apply Diversity Mode ‚Ä∫ balanced mode should apply all balancing algorithms

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m  5 |[39m
     [90m  6 |[39m [90m// Setup before all tests[39m
    [31m[1m>[22m[39m[90m  7 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m  8 |[39m   [36mtry[39m {
     [90m  9 |[39m     mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 10 |[39m     [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:7:1)

  ‚óè Diversity Service - Apply Diversity Mode ‚Ä∫ category_diverse mode should prioritize category diversity

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m  5 |[39m
     [90m  6 |[39m [90m// Setup before all tests[39m
    [31m[1m>[22m[39m[90m  7 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m  8 |[39m   [36mtry[39m {
     [90m  9 |[39m     mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 10 |[39m     [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:7:1)

  ‚óè Diversity Service - Apply Diversity Mode ‚Ä∫ price_diverse mode should prioritize price diversity

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m  5 |[39m
     [90m  6 |[39m [90m// Setup before all tests[39m
    [31m[1m>[22m[39m[90m  7 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m  8 |[39m   [36mtry[39m {
     [90m  9 |[39m     mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 10 |[39m     [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:7:1)

  ‚óè Diversity Service - Apply Diversity Mode ‚Ä∫ should filter by minimum rating

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m  5 |[39m
     [90m  6 |[39m [90m// Setup before all tests[39m
    [31m[1m>[22m[39m[90m  7 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m  8 |[39m   [36mtry[39m {
     [90m  9 |[39m     mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 10 |[39m     [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:7:1)

  ‚óè Diversity Service - Apply Diversity Mode ‚Ä∫ should handle empty product array

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m  5 |[39m
     [90m  6 |[39m [90m// Setup before all tests[39m
    [31m[1m>[22m[39m[90m  7 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m  8 |[39m   [36mtry[39m {
     [90m  9 |[39m     mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 10 |[39m     [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:7:1)

  ‚óè Diversity Service - Metadata Generation ‚Ä∫ should generate correct metadata

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m  5 |[39m
     [90m  6 |[39m [90m// Setup before all tests[39m
    [31m[1m>[22m[39m[90m  7 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m  8 |[39m   [36mtry[39m {
     [90m  9 |[39m     mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 10 |[39m     [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:7:1)

  ‚óè Diversity Service - Metadata Generation ‚Ä∫ should handle products with missing data

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m  5 |[39m
     [90m  6 |[39m [90m// Setup before all tests[39m
    [31m[1m>[22m[39m[90m  7 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m  8 |[39m   [36mtry[39m {
     [90m  9 |[39m     mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 10 |[39m     [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:7:1)

  ‚óè Diversity Service - Edge Cases ‚Ä∫ should handle products with null/undefined values

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m  5 |[39m
     [90m  6 |[39m [90m// Setup before all tests[39m
    [31m[1m>[22m[39m[90m  7 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m  8 |[39m   [36mtry[39m {
     [90m  9 |[39m     mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 10 |[39m     [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:7:1)

  ‚óè Diversity Service - Edge Cases ‚Ä∫ should handle very large product arrays

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m  5 |[39m
     [90m  6 |[39m [90m// Setup before all tests[39m
    [31m[1m>[22m[39m[90m  7 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m  8 |[39m   [36mtry[39m {
     [90m  9 |[39m     mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 10 |[39m     [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:7:1)

  ‚óè Diversity Service - Edge Cases ‚Ä∫ should handle products with identical attributes

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m  5 |[39m
     [90m  6 |[39m [90m// Setup before all tests[39m
    [31m[1m>[22m[39m[90m  7 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m  8 |[39m   [36mtry[39m {
     [90m  9 |[39m     mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 10 |[39m     [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:7:1)

  ‚óè Diversity Service - Performance ‚Ä∫ calculateDiversityScore should be fast for large arrays

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m  5 |[39m
     [90m  6 |[39m [90m// Setup before all tests[39m
    [31m[1m>[22m[39m[90m  7 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m  8 |[39m   [36mtry[39m {
     [90m  9 |[39m     mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 10 |[39m     [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:7:1)

  ‚óè Diversity Service - Performance ‚Ä∫ balanceByCategory should be fast for large arrays

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m  5 |[39m
     [90m  6 |[39m [90m// Setup before all tests[39m
    [31m[1m>[22m[39m[90m  7 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m  8 |[39m   [36mtry[39m {
     [90m  9 |[39m     mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 10 |[39m     [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:7:1)

  console.error
    Could NOT download "https://fastdl.mongodb.org/windows/mongodb-windows-x86_64-7.0.14.zip"! getaddrinfo ENOTFOUND fastdl.mongodb.org

      at RedirectableRequest.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:621:17)
      at ClientRequest.eventHandlers.<computed> (node_modules/follow-redirects/index.js:49:24)

  console.warn
    Starting the MongoMemoryServer Instance failed, enable debug log for more information. Error:
     [DownloadError: Download failed for url "https://fastdl.mongodb.org/windows/mongodb-windows-x86_64-7.0.14.zip", Details:
    getaddrinfo ENOTFOUND fastdl.mongodb.org] {
      url: 'https://fastdl.mongodb.org/windows/mongodb-windows-x86_64-7.0.14.zip',
      msg: 'getaddrinfo ENOTFOUND fastdl.mongodb.org',
      code: 'ENOTFOUND',
      maxRetries: 3,
      attempts: 3
    }

    [0m [90m  7 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m  8 |[39m   [36mtry[39m {
    [31m[1m>[22m[39m[90m  9 |[39m     mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m    |[39m                   [31m[1m^[22m[39m
     [90m 10 |[39m     [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m
     [90m 11 |[39m
     [90m 12 |[39m     [36mawait[39m mongoose[33m.[39mconnect(mongoUri)[33m;[39m[0m

      at node_modules/mongodb-memory-server-core/src/MongoMemoryServer.ts:359:17
      at MongoMemoryServer.start (node_modules/mongodb-memory-server-core/src/MongoMemoryServer.ts:350:5)
      at Function.create (node_modules/mongodb-memory-server-core/src/MongoMemoryServer.ts:317:5)
      at Object.<anonymous> (src/__tests__/setup.ts:9:19)

  console.error
    ‚ùå Test database connection failed: [DownloadError: Download failed for url "https://fastdl.mongodb.org/windows/mongodb-windows-x86_64-7.0.14.zip", Details:
    getaddrinfo ENOTFOUND fastdl.mongodb.org] {
      url: 'https://fastdl.mongodb.org/windows/mongodb-windows-x86_64-7.0.14.zip',
      msg: 'getaddrinfo ENOTFOUND fastdl.mongodb.org',
      code: 'ENOTFOUND',
      maxRetries: 3,
      attempts: 3
    }

    [0m [90m 13 |[39m     console[33m.[39mlog([32m'‚úÖ Test database connected'[39m)[33m;[39m
     [90m 14 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 15 |[39m     console[33m.[39merror([32m'‚ùå Test database connection failed:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 16 |[39m     [36mthrow[39m error[33m;[39m
     [90m 17 |[39m   }
     [90m 18 |[39m })[33m;[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:15:13)

  console.error
    Cleanup error: ModuleNotFoundError: Cannot find module '../../models/TeamInvitation' from 'src/__tests__/helpers/testUtils.ts'
        at Resolver._throwModNotFoundError (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-resolve\build\index.js:863:11)
        at Resolver.resolveModule (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-resolve\build\index.js:810:10)
        at Resolver._getVirtualMockPath (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-resolve\build\index.js:1004:84)
        at Resolver._getAbsolutePath (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-resolve\build\index.js:984:98)
        at Resolver.getModuleID (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-resolve\build\index.js:949:31)
        at Runtime._shouldMockCjs (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-runtime\build\index.js:1486:37)
        at Runtime.requireModuleOrMock (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-runtime\build\index.js:961:16)
        at cleanupTestData (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\src\__tests__\helpers\testUtils.ts:171:32)
        at Object.<anonymous> (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\src\__tests__\routes\analytics.test.ts:6:26)
        at Promise.finally.completed (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:1557:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:1497:10)
        at _callCircusHook (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:976:40)
        at _runTest (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:949:5)
        at C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:849:7
        at _runTestsForDescribeBlock (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:862:11)
        at _runTestsForDescribeBlock (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:857:11)
        at _runTestsForDescribeBlock (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:857:11)
        at run (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:761:3)
        at runAndTransformResultsToJestFormat (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:1918:21)
        at jestAdapter (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\runner.js:101:19)
        at runTestInternal (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-runner\build\testWorker.js:275:16)
        at runTest (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-runner\build\testWorker.js:343:7)
        at Object.worker (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-runner\build\testWorker.js:497:12) {
      code: 'MODULE_NOT_FOUND',
      hint: '',
      requireStack: undefined,
      siblingWithSimilarExtensionFound: false,
      moduleName: '../../models/TeamInvitation',
      _originalMessage: "Cannot find module '../../models/TeamInvitation' from 'src/__tests__/helpers/testUtils.ts'"
    }

    [0m [90m 180 |[39m     ])[33m;[39m
     [90m 181 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 182 |[39m     console[33m.[39merror([32m'Cleanup error:'[39m[33m,[39m error)[33m;[39m
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 183 |[39m   }
     [90m 184 |[39m }[33m;[39m
     [90m 185 |[39m[0m

      at cleanupTestData (src/__tests__/helpers/testUtils.ts:182:13)
      at Object.<anonymous> (src/__tests__/routes/analytics.test.ts:6:26)

(node:34072) [MONGOOSE] Warning: Duplicate schema index on {"timestamp":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
(Use `node --trace-warnings ...` to show where the warning was created)

ReferenceError: You are trying to `import` a file after the Jest environment has been torn down. From src/__tests__/routes/onboarding.test.ts.

    [0m [90m  7 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m  8 |[39m   [36mtry[39m {
    [31m[1m>[22m[39m[90m  9 |[39m     mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m    |[39m                   [31m[1m^[22m[39m
     [90m 10 |[39m     [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m
     [90m 11 |[39m
     [90m 12 |[39m     [36mawait[39m mongoose[33m.[39mconnect(mongoUri)[33m;[39m[0m

      at module.exports (node_modules/follow-redirects/debug.js:7:15)
      at Object.request (node_modules/follow-redirects/index.js:542:7)
      at Object.get (node_modules/follow-redirects/index.js:548:44)
      at node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:495:29
      at MongoBinaryDownload.attemptDownload (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:492:12)
      at MongoBinaryDownload.httpDownload (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:417:27)
      at MongoBinaryDownload.download (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:240:39)
      at MongoBinaryDownload.startDownload (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:146:28)
      at MongoBinaryDownload.getMongodPath (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:113:28)
      at Function.download (node_modules/mongodb-memory-server-core/src/util/MongoBinary.ts:47:49)
      at Function.getPath (node_modules/mongodb-memory-server-core/src/util/MongoBinary.ts:132:22)
      at MongoInstance.start (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:366:22)
      at Function.create (node_modules/mongodb-memory-server-core/src/util/MongoInstance.ts:294:5)
      at MongoMemoryServer._startUpInstance (node_modules/mongodb-memory-server-core/src/MongoMemoryServer.ts:530:22)
      at MongoMemoryServer.start (node_modules/mongodb-memory-server-core/src/MongoMemoryServer.ts:350:5)
      at Function.create (node_modules/mongodb-memory-server-core/src/MongoMemoryServer.ts:317:5)
      at Object.<anonymous> (src/__tests__/setup.ts:9:19)
(node:39268) [MONGOOSE] Warning: Duplicate schema index on {"timestamp":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
(Use `node --trace-warnings ...` to show where the warning was created)
  console.error
    ‚ùå Test cleanup failed: MongooseError: Operation `partners.deleteMany()` buffering timed out after 10000ms
        at Timeout.<anonymous> (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\mongoose\lib\drivers\node-mongodb-native\collection.js:187:23)
        at listOnTimeout (node:internal/timers:573:17)
        at processTimers (node:internal/timers:514:7)

    [0m [90m 26 |[39m     }
     [90m 27 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 28 |[39m     console[33m.[39merror([32m'‚ùå Test cleanup failed:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 29 |[39m   }
     [90m 30 |[39m })[33m;[39m
     [90m 31 |[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:28:13)

FAIL src/__tests__/e2e/team-collaboration.e2e.test.ts (298.392 s)
  E2E: Team Collaboration
    √ó 1. Owner creates merchant account (14357 ms)
    √ó 2. Owner invites admin (10127 ms)
    √ó 3. Admin invites manager (10067 ms)
    √ó 4. Manager creates product (has permission) (11043 ms)

  ‚óè E2E: Team Collaboration ‚Ä∫ 1. Owner creates merchant account

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m  5 |[39m
     [90m  6 |[39m [90m// Setup before all tests[39m
    [31m[1m>[22m[39m[90m  7 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m  8 |[39m   [36mtry[39m {
     [90m  9 |[39m     mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 10 |[39m     [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:7:1)

  ‚óè E2E: Team Collaboration ‚Ä∫ 2. Owner invites admin

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m  5 |[39m
     [90m  6 |[39m [90m// Setup before all tests[39m
    [31m[1m>[22m[39m[90m  7 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m  8 |[39m   [36mtry[39m {
     [90m  9 |[39m     mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 10 |[39m     [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:7:1)

  ‚óè E2E: Team Collaboration ‚Ä∫ 3. Admin invites manager

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m  5 |[39m
     [90m  6 |[39m [90m// Setup before all tests[39m
    [31m[1m>[22m[39m[90m  7 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m  8 |[39m   [36mtry[39m {
     [90m  9 |[39m     mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 10 |[39m     [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:7:1)

  ‚óè E2E: Team Collaboration ‚Ä∫ 4. Manager creates product (has permission)

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m  5 |[39m
     [90m  6 |[39m [90m// Setup before all tests[39m
    [31m[1m>[22m[39m[90m  7 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m  8 |[39m   [36mtry[39m {
     [90m  9 |[39m     mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 10 |[39m     [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:7:1)

  console.error
    Could NOT download "https://fastdl.mongodb.org/windows/mongodb-windows-x86_64-7.0.14.zip"! getaddrinfo ENOTFOUND fastdl.mongodb.org

      at RedirectableRequest.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:621:17)
      at ClientRequest.eventHandlers.<computed> (node_modules/follow-redirects/index.js:49:24)

  console.error
    ‚ùå Test cleanup failed: MongooseError: Operation `merchants.deleteMany()` buffering timed out after 10000ms
        at Timeout.<anonymous> (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\mongoose\lib\drivers\node-mongodb-native\collection.js:187:23)
        at listOnTimeout (node:internal/timers:573:17)
        at processTimers (node:internal/timers:514:7)

    [0m [90m 26 |[39m     }
     [90m 27 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 28 |[39m     console[33m.[39merror([32m'‚ùå Test cleanup failed:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 29 |[39m   }
     [90m 30 |[39m })[33m;[39m
     [90m 31 |[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:28:13)

  console.error
    Cleanup error: ModuleNotFoundError: Cannot find module '../../models/TeamInvitation' from 'src/__tests__/helpers/testUtils.ts'
        at Resolver._throwModNotFoundError (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-resolve\build\index.js:863:11)
        at Resolver.resolveModule (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-resolve\build\index.js:810:10)
        at Resolver._getVirtualMockPath (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-resolve\build\index.js:1004:84)
        at Resolver._getAbsolutePath (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-resolve\build\index.js:984:98)
        at Resolver.getModuleID (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-resolve\build\index.js:949:31)
        at Runtime._shouldMockCjs (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-runtime\build\index.js:1486:37)
        at Runtime.requireModuleOrMock (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-runtime\build\index.js:961:16)
        at cleanupTestData (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\src\__tests__\helpers\testUtils.ts:171:32)
        at Object.<anonymous> (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\src\__tests__\routes\team.test.ts:6:26)
        at Promise.finally.completed (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:1557:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:1497:10)
        at _callCircusHook (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:976:40)
        at _runTest (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:949:5)
        at C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:849:7
        at _runTestsForDescribeBlock (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:862:11)
        at _runTestsForDescribeBlock (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:857:11)
        at _runTestsForDescribeBlock (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:857:11)
        at run (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:761:3)
        at runAndTransformResultsToJestFormat (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:1918:21)
        at jestAdapter (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\runner.js:101:19)
        at runTestInternal (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-runner\build\testWorker.js:275:16)
        at runTest (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-runner\build\testWorker.js:343:7)
        at Object.worker (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-runner\build\testWorker.js:497:12) {
      code: 'MODULE_NOT_FOUND',
      hint: '',
      requireStack: undefined,
      siblingWithSimilarExtensionFound: false,
      moduleName: '../../models/TeamInvitation',
      _originalMessage: "Cannot find module '../../models/TeamInvitation' from 'src/__tests__/helpers/testUtils.ts'"
    }

    [0m [90m 180 |[39m     ])[33m;[39m
     [90m 181 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 182 |[39m     console[33m.[39merror([32m'Cleanup error:'[39m[33m,[39m error)[33m;[39m
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 183 |[39m   }
     [90m 184 |[39m }[33m;[39m
     [90m 185 |[39m[0m

      at cleanupTestData (src/__tests__/helpers/testUtils.ts:182:13)
      at Object.<anonymous> (src/__tests__/routes/team.test.ts:6:26)

  console.error
    ‚ùå Test cleanup failed: MongooseError: Operation `merchants.deleteMany()` buffering timed out after 10000ms
        at Timeout.<anonymous> (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\mongoose\lib\drivers\node-mongodb-native\collection.js:187:23)
        at listOnTimeout (node:internal/timers:573:17)
        at processTimers (node:internal/timers:514:7)

    [0m [90m 26 |[39m     }
     [90m 27 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 28 |[39m     console[33m.[39merror([32m'‚ùå Test cleanup failed:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 29 |[39m   }
     [90m 30 |[39m })[33m;[39m
     [90m 31 |[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:28:13)

  console.error
    Cleanup error: ModuleNotFoundError: Cannot find module '../../models/TeamInvitation' from 'src/__tests__/helpers/testUtils.ts'
        at Resolver._throwModNotFoundError (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-resolve\build\index.js:863:11)
        at Resolver.resolveModule (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-resolve\build\index.js:810:10)
        at Resolver._getVirtualMockPath (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-resolve\build\index.js:1004:84)
        at Resolver._getAbsolutePath (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-resolve\build\index.js:984:98)
        at Resolver.getModuleID (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-resolve\build\index.js:949:31)
        at Runtime._shouldMockCjs (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-runtime\build\index.js:1486:37)
        at Runtime.requireModuleOrMock (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-runtime\build\index.js:961:16)
        at cleanupTestData (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\src\__tests__\helpers\testUtils.ts:171:32)
        at Object.<anonymous> (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\src\__tests__\routes\analytics.test.ts:6:26)
        at Promise.finally.completed (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:1557:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:1497:10)
        at _callCircusHook (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:976:40)
        at _runTest (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:949:5)
        at C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:849:7
        at _runTestsForDescribeBlock (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:862:11)
        at _runTestsForDescribeBlock (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:857:11)
        at _runTestsForDescribeBlock (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:857:11)
        at run (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:761:3)
        at runAndTransformResultsToJestFormat (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:1918:21)
        at jestAdapter (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\runner.js:101:19)
        at runTestInternal (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-runner\build\testWorker.js:275:16)
        at runTest (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-runner\build\testWorker.js:343:7)
        at Object.worker (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-runner\build\testWorker.js:497:12) {
      code: 'MODULE_NOT_FOUND',
      hint: '',
      requireStack: undefined,
      siblingWithSimilarExtensionFound: false,
      moduleName: '../../models/TeamInvitation',
      _originalMessage: "Cannot find module '../../models/TeamInvitation' from 'src/__tests__/helpers/testUtils.ts'"
    }

    [0m [90m 180 |[39m     ])[33m;[39m
     [90m 181 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 182 |[39m     console[33m.[39merror([32m'Cleanup error:'[39m[33m,[39m error)[33m;[39m
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 183 |[39m   }
     [90m 184 |[39m }[33m;[39m
     [90m 185 |[39m[0m

      at cleanupTestData (src/__tests__/helpers/testUtils.ts:182:13)
      at Object.<anonymous> (src/__tests__/routes/analytics.test.ts:6:26)

  console.error
    ‚ùå Test cleanup failed: MongooseError: Operation `partners.deleteMany()` buffering timed out after 10000ms
        at Timeout.<anonymous> (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\mongoose\lib\drivers\node-mongodb-native\collection.js:187:23)
        at listOnTimeout (node:internal/timers:573:17)
        at processTimers (node:internal/timers:514:7)

    [0m [90m 26 |[39m     }
     [90m 27 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 28 |[39m     console[33m.[39merror([32m'‚ùå Test cleanup failed:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 29 |[39m   }
     [90m 30 |[39m })[33m;[39m
     [90m 31 |[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:28:13)

  console.error
    Cleanup error: ModuleNotFoundError: Cannot find module '../../models/TeamInvitation' from 'src/__tests__/helpers/testUtils.ts'
        at Resolver._throwModNotFoundError (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-resolve\build\index.js:863:11)
        at Resolver.resolveModule (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-resolve\build\index.js:810:10)
        at Resolver._getVirtualMockPath (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-resolve\build\index.js:1004:84)
        at Resolver._getAbsolutePath (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-resolve\build\index.js:984:98)
        at Resolver.getModuleID (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-resolve\build\index.js:949:31)
        at Runtime._shouldMockCjs (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-runtime\build\index.js:1486:37)
        at Runtime.requireModuleOrMock (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-runtime\build\index.js:961:16)
        at cleanupTestData (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\src\__tests__\helpers\testUtils.ts:171:32)
        at Object.<anonymous> (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\src\__tests__\routes\orders.test.ts:6:26)
        at Promise.finally.completed (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:1557:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:1497:10)
        at _callCircusHook (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:976:40)
        at _runTest (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:949:5)
        at C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:849:7
        at _runTestsForDescribeBlock (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:862:11)
        at _runTestsForDescribeBlock (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:857:11)
        at _runTestsForDescribeBlock (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:857:11)
        at run (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:761:3)
        at runAndTransformResultsToJestFormat (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:1918:21)
        at jestAdapter (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\runner.js:101:19)
        at runTestInternal (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-runner\build\testWorker.js:275:16)
        at runTest (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-runner\build\testWorker.js:343:7)
        at Object.worker (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-runner\build\testWorker.js:497:12) {
      code: 'MODULE_NOT_FOUND',
      hint: '',
      requireStack: undefined,
      siblingWithSimilarExtensionFound: false,
      moduleName: '../../models/TeamInvitation',
      _originalMessage: "Cannot find module '../../models/TeamInvitation' from 'src/__tests__/helpers/testUtils.ts'"
    }

    [0m [90m 180 |[39m     ])[33m;[39m
     [90m 181 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 182 |[39m     console[33m.[39merror([32m'Cleanup error:'[39m[33m,[39m error)[33m;[39m
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 183 |[39m   }
     [90m 184 |[39m }[33m;[39m
     [90m 185 |[39m[0m

      at cleanupTestData (src/__tests__/helpers/testUtils.ts:182:13)
      at Object.<anonymous> (src/__tests__/routes/orders.test.ts:6:26)

(node:40800) [MONGOOSE] Warning: Duplicate schema index on {"timestamp":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
(Use `node --trace-warnings ...` to show where the warning was created)
  console.error
    ‚ùå Test cleanup failed: MongooseError: Operation `merchants.deleteMany()` buffering timed out after 10000ms
        at Timeout.<anonymous> (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\mongoose\lib\drivers\node-mongodb-native\collection.js:187:23)
        at listOnTimeout (node:internal/timers:573:17)
        at processTimers (node:internal/timers:514:7)

    [0m [90m 26 |[39m     }
     [90m 27 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 28 |[39m     console[33m.[39merror([32m'‚ùå Test cleanup failed:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 29 |[39m   }
     [90m 30 |[39m })[33m;[39m
     [90m 31 |[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:28:13)

  console.error
    ‚ùå Test database disconnection failed: TypeError: Cannot read properties of undefined (reading 'stop')
        at Object.<anonymous> (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\src\__tests__\setup.ts:36:23)

    [0m [90m 37 |[39m     console[33m.[39mlog([32m'‚úÖ Test database disconnected'[39m)[33m;[39m
     [90m 38 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 39 |[39m     console[33m.[39merror([32m'‚ùå Test database disconnection failed:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 40 |[39m   }
     [90m 41 |[39m })[33m;[39m
     [90m 42 |[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:39:13)

FAIL src/__tests__/routes/team.test.ts (315.179 s)
  Team Routes
    GET /api/merchant/team
      √ó should get all team members (74169 ms)
    POST /api/merchant/team/invite
      √ó should invite a team member (10150 ms)
    PUT /api/merchant/team/:userId/role
      √ó should update team member role (owner only) (10265 ms)

  ‚óè Team Routes ‚Ä∫ GET /api/merchant/team ‚Ä∫ should get all team members

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m  5 |[39m
     [90m  6 |[39m [90m// Setup before all tests[39m
    [31m[1m>[22m[39m[90m  7 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m  8 |[39m   [36mtry[39m {
     [90m  9 |[39m     mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 10 |[39m     [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:7:1)

  ‚óè Team Routes ‚Ä∫ POST /api/merchant/team/invite ‚Ä∫ should invite a team member

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m  5 |[39m
     [90m  6 |[39m [90m// Setup before all tests[39m
    [31m[1m>[22m[39m[90m  7 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m  8 |[39m   [36mtry[39m {
     [90m  9 |[39m     mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 10 |[39m     [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:7:1)

  ‚óè Team Routes ‚Ä∫ PUT /api/merchant/team/:userId/role ‚Ä∫ should update team member role (owner only)

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m  5 |[39m
     [90m  6 |[39m [90m// Setup before all tests[39m
    [31m[1m>[22m[39m[90m  7 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m  8 |[39m   [36mtry[39m {
     [90m  9 |[39m     mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 10 |[39m     [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:7:1)

  console.error
    ‚ùå Test cleanup failed: MongooseError: Operation `merchants.deleteMany()` buffering timed out after 10000ms
        at Timeout.<anonymous> (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\mongoose\lib\drivers\node-mongodb-native\collection.js:187:23)
        at listOnTimeout (node:internal/timers:573:17)
        at processTimers (node:internal/timers:514:7)

    [0m [90m 26 |[39m     }
     [90m 27 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 28 |[39m     console[33m.[39merror([32m'‚ùå Test cleanup failed:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 29 |[39m   }
     [90m 30 |[39m })[33m;[39m
     [90m 31 |[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:28:13)

  console.error
    ‚ùå Test database disconnection failed: TypeError: Cannot read properties of undefined (reading 'stop')
        at Object.<anonymous> (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\src\__tests__\setup.ts:36:23)

    [0m [90m 37 |[39m     console[33m.[39mlog([32m'‚úÖ Test database disconnected'[39m)[33m;[39m
     [90m 38 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 39 |[39m     console[33m.[39merror([32m'‚ùå Test database disconnection failed:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 40 |[39m   }
     [90m 41 |[39m })[33m;[39m
     [90m 42 |[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:39:13)

  console.error
    Could NOT download "https://fastdl.mongodb.org/windows/mongodb-windows-x86_64-7.0.14.zip"! getaddrinfo ENOTFOUND fastdl.mongodb.org

      at RedirectableRequest.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:621:17)
      at ClientRequest.eventHandlers.<computed> (node_modules/follow-redirects/index.js:49:24)

FAIL src/__tests__/routes/analytics.test.ts (317.347 s)
  Analytics Routes
    GET /api/merchant/analytics/sales/overview
      √ó should get sales overview (85693 ms)
    GET /api/merchant/analytics/forecast/sales
      √ó should get sales forecast (10284 ms)

  ‚óè Analytics Routes ‚Ä∫ GET /api/merchant/analytics/sales/overview ‚Ä∫ should get sales overview

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m  5 |[39m
     [90m  6 |[39m [90m// Setup before all tests[39m
    [31m[1m>[22m[39m[90m  7 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m  8 |[39m   [36mtry[39m {
     [90m  9 |[39m     mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 10 |[39m     [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:7:1)

  ‚óè Analytics Routes ‚Ä∫ GET /api/merchant/analytics/forecast/sales ‚Ä∫ should get sales forecast

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m  5 |[39m
     [90m  6 |[39m [90m// Setup before all tests[39m
    [31m[1m>[22m[39m[90m  7 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m  8 |[39m   [36mtry[39m {
     [90m  9 |[39m     mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 10 |[39m     [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:7:1)

  console.error
    Cleanup error: ModuleNotFoundError: Cannot find module '../../models/TeamInvitation' from 'src/__tests__/helpers/testUtils.ts'
        at Resolver._throwModNotFoundError (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-resolve\build\index.js:863:11)
        at Resolver.resolveModule (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-resolve\build\index.js:810:10)
        at Resolver._getVirtualMockPath (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-resolve\build\index.js:1004:84)
        at Resolver._getAbsolutePath (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-resolve\build\index.js:984:98)
        at Resolver.getModuleID (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-resolve\build\index.js:949:31)
        at Runtime._shouldMockCjs (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-runtime\build\index.js:1486:37)
        at Runtime.requireModuleOrMock (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-runtime\build\index.js:961:16)
        at cleanupTestData (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\src\__tests__\helpers\testUtils.ts:171:32)
        at Object.<anonymous> (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\src\__tests__\services\PredictiveAnalyticsService.test.ts:6:26)
        at Promise.finally.completed (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:1557:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:1497:10)
        at _callCircusHook (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:976:40)
        at _runTest (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:949:5)
        at C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:849:7
        at _runTestsForDescribeBlock (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:862:11)
        at _runTestsForDescribeBlock (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:857:11)
        at _runTestsForDescribeBlock (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:857:11)
        at run (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:761:3)
        at runAndTransformResultsToJestFormat (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:1918:21)
        at jestAdapter (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\runner.js:101:19)
        at runTestInternal (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-runner\build\testWorker.js:275:16)
        at runTest (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-runner\build\testWorker.js:343:7)
        at Object.worker (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-runner\build\testWorker.js:497:12) {
      code: 'MODULE_NOT_FOUND',
      hint: '',
      requireStack: undefined,
      siblingWithSimilarExtensionFound: false,
      moduleName: '../../models/TeamInvitation',
      _originalMessage: "Cannot find module '../../models/TeamInvitation' from 'src/__tests__/helpers/testUtils.ts'"
    }

    [0m [90m 180 |[39m     ])[33m;[39m
     [90m 181 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 182 |[39m     console[33m.[39merror([32m'Cleanup error:'[39m[33m,[39m error)[33m;[39m
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 183 |[39m   }
     [90m 184 |[39m }[33m;[39m
     [90m 185 |[39m[0m

      at cleanupTestData (src/__tests__/helpers/testUtils.ts:182:13)
      at Object.<anonymous> (src/__tests__/services/PredictiveAnalyticsService.test.ts:6:26)

(node:40628) [MONGOOSE] Warning: Duplicate schema index on {"timestamp":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
  console.error
    ‚ùå Test cleanup failed: MongooseError: Operation `merchants.deleteMany()` buffering timed out after 10000ms
        at Timeout.<anonymous> (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\mongoose\lib\drivers\node-mongodb-native\collection.js:187:23)
        at listOnTimeout (node:internal/timers:573:17)
        at processTimers (node:internal/timers:514:7)

    [0m [90m 26 |[39m     }
     [90m 27 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 28 |[39m     console[33m.[39merror([32m'‚ùå Test cleanup failed:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 29 |[39m   }
     [90m 30 |[39m })[33m;[39m
     [90m 31 |[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:28:13)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 0% (0mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)

  console.error
    ‚ùå Test cleanup failed: MongooseError: Operation `partners.deleteMany()` buffering timed out after 10000ms
        at Timeout.<anonymous> (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\mongoose\lib\drivers\node-mongodb-native\collection.js:187:23)
        at listOnTimeout (node:internal/timers:573:17)
        at processTimers (node:internal/timers:514:7)

    [0m [90m 26 |[39m     }
     [90m 27 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 28 |[39m     console[33m.[39merror([32m'‚ùå Test cleanup failed:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 29 |[39m   }
     [90m 30 |[39m })[33m;[39m
     [90m 31 |[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:28:13)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 0.8% (4.5mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)

  console.error
    ‚ùå Test cleanup failed: MongooseError: Operation `merchants.deleteMany()` buffering timed out after 10000ms
        at Timeout.<anonymous> (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\mongoose\lib\drivers\node-mongodb-native\collection.js:187:23)
        at listOnTimeout (node:internal/timers:573:17)
        at processTimers (node:internal/timers:514:7)

    [0m [90m 26 |[39m     }
     [90m 27 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 28 |[39m     console[33m.[39merror([32m'‚ùå Test cleanup failed:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 29 |[39m   }
     [90m 30 |[39m })[33m;[39m
     [90m 31 |[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:28:13)

  console.error
    Cleanup error: ModuleNotFoundError: Cannot find module '../../models/TeamInvitation' from 'src/__tests__/helpers/testUtils.ts'
        at Resolver._throwModNotFoundError (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-resolve\build\index.js:863:11)
        at Resolver.resolveModule (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-resolve\build\index.js:810:10)
        at Resolver._getVirtualMockPath (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-resolve\build\index.js:1004:84)
        at Resolver._getAbsolutePath (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-resolve\build\index.js:984:98)
        at Resolver.getModuleID (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-resolve\build\index.js:949:31)
        at Runtime._shouldMockCjs (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-runtime\build\index.js:1486:37)
        at Runtime.requireModuleOrMock (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-runtime\build\index.js:961:16)
        at cleanupTestData (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\src\__tests__\helpers\testUtils.ts:171:32)
        at Object.<anonymous> (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\src\__tests__\routes\orders.test.ts:6:26)
        at Promise.finally.completed (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:1557:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:1497:10)
        at _callCircusHook (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:976:40)
        at _runTest (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:949:5)
        at C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:849:7
        at _runTestsForDescribeBlock (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:862:11)
        at _runTestsForDescribeBlock (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:857:11)
        at _runTestsForDescribeBlock (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:857:11)
        at run (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:761:3)
        at runAndTransformResultsToJestFormat (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:1918:21)
        at jestAdapter (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\runner.js:101:19)
        at runTestInternal (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-runner\build\testWorker.js:275:16)
        at runTest (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-runner\build\testWorker.js:343:7)
        at Object.worker (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-runner\build\testWorker.js:497:12) {
      code: 'MODULE_NOT_FOUND',
      hint: '',
      requireStack: undefined,
      siblingWithSimilarExtensionFound: false,
      moduleName: '../../models/TeamInvitation',
      _originalMessage: "Cannot find module '../../models/TeamInvitation' from 'src/__tests__/helpers/testUtils.ts'"
    }

    [0m [90m 180 |[39m     ])[33m;[39m
     [90m 181 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 182 |[39m     console[33m.[39merror([32m'Cleanup error:'[39m[33m,[39m error)[33m;[39m
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 183 |[39m   }
     [90m 184 |[39m }[33m;[39m
     [90m 185 |[39m[0m

      at cleanupTestData (src/__tests__/helpers/testUtils.ts:182:13)
      at Object.<anonymous> (src/__tests__/routes/orders.test.ts:6:26)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 2.1% (12.4mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 3.8% (22.3mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 0% (0mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)

  console.error
    Cleanup error: ModuleNotFoundError: Cannot find module '../../models/TeamInvitation' from 'src/__tests__/helpers/testUtils.ts'
        at Resolver._throwModNotFoundError (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-resolve\build\index.js:863:11)
        at Resolver.resolveModule (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-resolve\build\index.js:810:10)
        at Resolver._getVirtualMockPath (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-resolve\build\index.js:1004:84)
        at Resolver._getAbsolutePath (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-resolve\build\index.js:984:98)
        at Resolver.getModuleID (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-resolve\build\index.js:949:31)
        at Runtime._shouldMockCjs (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-runtime\build\index.js:1486:37)
        at Runtime.requireModuleOrMock (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-runtime\build\index.js:961:16)
        at cleanupTestData (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\src\__tests__\helpers\testUtils.ts:171:32)
        at Object.<anonymous> (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\src\__tests__\e2e\merchant-journey.e2e.test.ts:6:26)
        at Promise.finally.completed (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:1557:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:1497:10)
        at _callCircusHook (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:976:40)
        at _runTestsForDescribeBlock (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:891:7)
        at _runTestsForDescribeBlock (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:857:11)
        at run (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:761:3)
        at runAndTransformResultsToJestFormat (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:1918:21)
        at jestAdapter (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\runner.js:101:19)
        at runTestInternal (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-runner\build\testWorker.js:275:16)
        at runTest (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-runner\build\testWorker.js:343:7)
        at Object.worker (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-runner\build\testWorker.js:497:12) {
      code: 'MODULE_NOT_FOUND',
      hint: '',
      requireStack: undefined,
      siblingWithSimilarExtensionFound: false,
      moduleName: '../../models/TeamInvitation',
      _originalMessage: "Cannot find module '../../models/TeamInvitation' from 'src/__tests__/helpers/testUtils.ts'"
    }

    [0m [90m 180 |[39m     ])[33m;[39m
     [90m 181 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 182 |[39m     console[33m.[39merror([32m'Cleanup error:'[39m[33m,[39m error)[33m;[39m
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 183 |[39m   }
     [90m 184 |[39m }[33m;[39m
     [90m 185 |[39m[0m

      at cleanupTestData (src/__tests__/helpers/testUtils.ts:182:13)
      at Object.<anonymous> (src/__tests__/e2e/merchant-journey.e2e.test.ts:6:26)

  console.error
    ‚ùå Test database disconnection failed: TypeError: Cannot read properties of undefined (reading 'stop')
        at Object.<anonymous> (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\src\__tests__\setup.ts:36:23)

    [0m [90m 37 |[39m     console[33m.[39mlog([32m'‚úÖ Test database disconnected'[39m)[33m;[39m
     [90m 38 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 39 |[39m     console[33m.[39merror([32m'‚ùå Test database disconnection failed:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 40 |[39m   }
     [90m 41 |[39m })[33m;[39m
     [90m 42 |[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:39:13)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 5.1% (30.3mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)

(node:42144) [MONGOOSE] Warning: Duplicate schema index on {"timestamp":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
(Use `node --trace-warnings ...` to show where the warning was created)

  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 0.1% (0.7mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)

FAIL src/__tests__/e2e/merchant-journey.e2e.test.ts (112.066 s)
  ‚óè E2E: Complete Merchant Journey ‚Ä∫ placeholder test

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m  5 |[39m
     [90m  6 |[39m [90m// Setup before all tests[39m
    [31m[1m>[22m[39m[90m  7 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m  8 |[39m   [36mtry[39m {
     [90m  9 |[39m     mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 10 |[39m     [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:7:1)

  ‚óè E2E: Complete Merchant Journey ‚Ä∫ placeholder test

    ENOENT: no such file or directory, open 'C:\Users\Mukul raj\.cache\mongodb-binaries\7.0.14.lock'

      at Function.checkLock (node_modules/mongodb-memory-server-core/src/util/lockfile.ts:102:25)
      at Timeout._onTimeout (node_modules/mongodb-memory-server-core/src/util/lockfile.ts:158:28)


  ‚óè Test suite failed to run

    ENOENT: no such file or directory, open 'C:\Users\Mukul raj\.cache\mongodb-binaries\7.0.14.lock'

      at Function.checkLock (node_modules/mongodb-memory-server-core/src/util/lockfile.ts:102:25)
      at Timeout._onTimeout (node_modules/mongodb-memory-server-core/src/util/lockfile.ts:158:28)

  ‚óè Test suite failed to run

    ENOENT: no such file or directory, open 'C:\Users\Mukul raj\.cache\mongodb-binaries\7.0.14.lock'

      at Function.checkLock (node_modules/mongodb-memory-server-core/src/util/lockfile.ts:102:25)
      at Timeout._onTimeout (node_modules/mongodb-memory-server-core/src/util/lockfile.ts:158:28)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 7.3% (43.1mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)

  console.error
    ‚ùå Test cleanup failed: MongooseError: Operation `partners.deleteMany()` buffering timed out after 10000ms
        at Timeout.<anonymous> (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\mongoose\lib\drivers\node-mongodb-native\collection.js:187:23)
        at listOnTimeout (node:internal/timers:573:17)
        at processTimers (node:internal/timers:514:7)

    [0m [90m 26 |[39m     }
     [90m 27 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 28 |[39m     console[33m.[39merror([32m'‚ùå Test cleanup failed:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 29 |[39m   }
     [90m 30 |[39m })[33m;[39m
     [90m 31 |[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:28:13)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 0.3% (1.6mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 8.6% (51.1mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 0.4% (2.3mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)

  console.error
    ‚ùå Test cleanup failed: MongooseError: Operation `merchants.deleteMany()` buffering timed out after 10000ms
        at Timeout.<anonymous> (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\mongoose\lib\drivers\node-mongodb-native\collection.js:187:23)
        at listOnTimeout (node:internal/timers:573:17)
        at processTimers (node:internal/timers:514:7)

    [0m [90m 26 |[39m     }
     [90m 27 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 28 |[39m     console[33m.[39merror([32m'‚ùå Test cleanup failed:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 29 |[39m   }
     [90m 30 |[39m })[33m;[39m
     [90m 31 |[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:28:13)

  console.error
    ‚ùå Test database disconnection failed: TypeError: Cannot read properties of undefined (reading 'stop')
        at Object.<anonymous> (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\src\__tests__\setup.ts:36:23)

    [0m [90m 37 |[39m     console[33m.[39mlog([32m'‚úÖ Test database disconnected'[39m)[33m;[39m
     [90m 38 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 39 |[39m     console[33m.[39merror([32m'‚ùå Test database disconnection failed:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 40 |[39m   }
     [90m 41 |[39m })[33m;[39m
     [90m 42 |[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:39:13)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 10.1% (59.8mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)

FAIL src/__tests__/routes/orders.test.ts (336.449 s)
  Order Routes
    GET /api/merchant/orders
      √ó should get all orders for merchant (32424 ms)
    PUT /api/merchant/orders/:id/status
      √ó should update order status (10601 ms)

  ‚óè Order Routes ‚Ä∫ GET /api/merchant/orders ‚Ä∫ should get all orders for merchant

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m  5 |[39m
     [90m  6 |[39m [90m// Setup before all tests[39m
    [31m[1m>[22m[39m[90m  7 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m  8 |[39m   [36mtry[39m {
     [90m  9 |[39m     mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 10 |[39m     [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:7:1)

  ‚óè Order Routes ‚Ä∫ PUT /api/merchant/orders/:id/status ‚Ä∫ should update order status

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m  5 |[39m
     [90m  6 |[39m [90m// Setup before all tests[39m
    [31m[1m>[22m[39m[90m  7 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m  8 |[39m   [36mtry[39m {
     [90m  9 |[39m     mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 10 |[39m     [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:7:1)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 0.5% (3.2mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 12% (71.1mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)

  console.error
    ‚ùå Test cleanup failed: MongooseError: Operation `orders.deleteMany()` buffering timed out after 10000ms
        at Timeout.<anonymous> (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\mongoose\lib\drivers\node-mongodb-native\collection.js:187:23)
        at listOnTimeout (node:internal/timers:573:17)
        at processTimers (node:internal/timers:514:7)

    [0m [90m 26 |[39m     }
     [90m 27 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 28 |[39m     console[33m.[39merror([32m'‚ùå Test cleanup failed:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 29 |[39m   }
     [90m 30 |[39m })[33m;[39m
     [90m 31 |[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:28:13)

  console.error
    Cleanup error: ModuleNotFoundError: Cannot find module '../../models/TeamInvitation' from 'src/__tests__/helpers/testUtils.ts'
        at Resolver._throwModNotFoundError (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-resolve\build\index.js:863:11)
        at Resolver.resolveModule (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-resolve\build\index.js:810:10)
        at Resolver._getVirtualMockPath (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-resolve\build\index.js:1004:84)
        at Resolver._getAbsolutePath (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-resolve\build\index.js:984:98)
        at Resolver.getModuleID (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-resolve\build\index.js:949:31)
        at Runtime._shouldMockCjs (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-runtime\build\index.js:1486:37)
        at Runtime.requireModuleOrMock (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-runtime\build\index.js:961:16)
        at cleanupTestData (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\src\__tests__\helpers\testUtils.ts:171:32)
        at Object.<anonymous> (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\src\__tests__\services\PredictiveAnalyticsService.test.ts:6:26)
        at Promise.finally.completed (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:1557:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:1497:10)
        at _callCircusHook (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:976:40)
        at runNextTicks (node:internal/process/task_queues:60:5)
        at processTimers (node:internal/timers:511:9)
        at _runTest (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:949:5)
        at C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:849:7
        at _runTestsForDescribeBlock (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:862:11)
        at _runTestsForDescribeBlock (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:857:11)
        at _runTestsForDescribeBlock (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:857:11)
        at run (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:761:3)
        at runAndTransformResultsToJestFormat (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:1918:21)
        at jestAdapter (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\runner.js:101:19)
        at runTestInternal (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-runner\build\testWorker.js:275:16)
        at runTest (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-runner\build\testWorker.js:343:7)
        at Object.worker (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-runner\build\testWorker.js:497:12) {
      code: 'MODULE_NOT_FOUND',
      hint: '',
      requireStack: undefined,
      siblingWithSimilarExtensionFound: false,
      moduleName: '../../models/TeamInvitation',
      _originalMessage: "Cannot find module '../../models/TeamInvitation' from 'src/__tests__/helpers/testUtils.ts'"
    }

    [0m [90m 180 |[39m     ])[33m;[39m
     [90m 181 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 182 |[39m     console[33m.[39merror([32m'Cleanup error:'[39m[33m,[39m error)[33m;[39m
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 183 |[39m   }
     [90m 184 |[39m }[33m;[39m
     [90m 185 |[39m[0m

      at cleanupTestData (src/__tests__/helpers/testUtils.ts:182:13)
      at Object.<anonymous> (src/__tests__/services/PredictiveAnalyticsService.test.ts:6:26)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 13.7% (81.3mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 0.7% (4.1mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 15.2% (90.2mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 0.8% (4.9mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)

  console.error
    ‚ùå Test cleanup failed: MongooseError: Operation `partners.deleteMany()` buffering timed out after 10000ms
        at Timeout.<anonymous> (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\mongoose\lib\drivers\node-mongodb-native\collection.js:187:23)
        at listOnTimeout (node:internal/timers:573:17)
        at processTimers (node:internal/timers:514:7)

    [0m [90m 26 |[39m     }
     [90m 27 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 28 |[39m     console[33m.[39merror([32m'‚ùå Test cleanup failed:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 29 |[39m   }
     [90m 30 |[39m })[33m;[39m
     [90m 31 |[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:28:13)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 17.9% (106mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 1.1% (6.2mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 21.3% (125.7mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 1.4% (8.3mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 24.2% (143.5mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 1.7% (9.8mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)

  console.error
    ‚ùå Test cleanup failed: MongooseError: Operation `orders.deleteMany()` buffering timed out after 10000ms
        at Timeout.<anonymous> (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\mongoose\lib\drivers\node-mongodb-native\collection.js:187:23)
        at listOnTimeout (node:internal/timers:573:17)
        at processTimers (node:internal/timers:514:7)

    [0m [90m 26 |[39m     }
     [90m 27 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 28 |[39m     console[33m.[39merror([32m'‚ùå Test cleanup failed:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 29 |[39m   }
     [90m 30 |[39m })[33m;[39m
     [90m 31 |[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:28:13)

  console.error
    ‚ùå Test database disconnection failed: TypeError: Cannot read properties of undefined (reading 'stop')
        at Object.<anonymous> (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\src\__tests__\setup.ts:36:23)

    [0m [90m 37 |[39m     console[33m.[39mlog([32m'‚úÖ Test database disconnected'[39m)[33m;[39m
     [90m 38 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 39 |[39m     console[33m.[39merror([32m'‚ùå Test database disconnection failed:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 40 |[39m   }
     [90m 41 |[39m })[33m;[39m
     [90m 42 |[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:39:13)

FAIL src/__tests__/services/PredictiveAnalyticsService.test.ts (349.514 s)
  PredictiveAnalyticsService
    forecastSales
      √ó should forecast sales for next period (35982 ms)
    predictStockout
      √ó should predict potential stockouts (10348 ms)

  ‚óè PredictiveAnalyticsService ‚Ä∫ forecastSales ‚Ä∫ should forecast sales for next period

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m  5 |[39m
     [90m  6 |[39m [90m// Setup before all tests[39m
    [31m[1m>[22m[39m[90m  7 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m  8 |[39m   [36mtry[39m {
     [90m  9 |[39m     mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 10 |[39m     [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:7:1)

  ‚óè PredictiveAnalyticsService ‚Ä∫ predictStockout ‚Ä∫ should predict potential stockouts

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m  5 |[39m
     [90m  6 |[39m [90m// Setup before all tests[39m
    [31m[1m>[22m[39m[90m  7 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m  8 |[39m   [36mtry[39m {
     [90m  9 |[39m     mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 10 |[39m     [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:7:1)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 26.7% (157.7mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 2.8% (16.6mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 28.6% (169.4mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 4.8% (28.2mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)

  console.error
    ‚ùå Test cleanup failed: MongooseError: Operation `partners.deleteMany()` buffering timed out after 10000ms
        at Timeout.<anonymous> (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\mongoose\lib\drivers\node-mongodb-native\collection.js:187:23)
        at listOnTimeout (node:internal/timers:573:17)
        at processTimers (node:internal/timers:514:7)

    [0m [90m 26 |[39m     }
     [90m 27 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 28 |[39m     console[33m.[39merror([32m'‚ùå Test cleanup failed:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 29 |[39m   }
     [90m 30 |[39m })[33m;[39m
     [90m 31 |[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:28:13)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 30.5% (180.4mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 6.4% (38mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 31.8% (187.9mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 7.9% (47mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 33.7% (199.5mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 9.7% (57.6mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 35.3% (208.8mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 11.6% (68.8mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 36.8% (217.5mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 13.6% (80.6mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)

  console.error
    ‚ùå Test cleanup failed: MongooseError: Operation `partners.deleteMany()` buffering timed out after 10000ms
        at Timeout.<anonymous> (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\mongoose\lib\drivers\node-mongodb-native\collection.js:187:23)
        at listOnTimeout (node:internal/timers:573:17)
        at processTimers (node:internal/timers:514:7)

    [0m [90m 26 |[39m     }
     [90m 27 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 28 |[39m     console[33m.[39merror([32m'‚ùå Test cleanup failed:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 29 |[39m   }
     [90m 30 |[39m })[33m;[39m
     [90m 31 |[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:28:13)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 37.6% (222.5mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 15.2% (89.9mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)

(node:39232) [MONGOOSE] Warning: Duplicate schema index on {"user":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
(Use `node --trace-warnings ...` to show where the warning was created)
(node:39232) [MONGOOSE] Warning: Duplicate schema index on {"transactionId":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
(node:39232) [MONGOOSE] Warning: Duplicate schema index on {"expiresAt":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
(node:39232) [MONGOOSE] Warning: Duplicate schema index on {"expiresAt":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.

  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 38.8% (229.7mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 17.3% (102.5mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 40% (236.7mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 19.8% (117.4mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 41.5% (245.7mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 21.5% (127.1mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 43.1% (255.1mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 23.7% (140.5mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)

  console.error
    Cleanup error: ModuleNotFoundError: Cannot find module '../../models/TeamInvitation' from 'src/__tests__/helpers/testUtils.ts'
        at Resolver._throwModNotFoundError (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-resolve\build\index.js:863:11)
        at Resolver.resolveModule (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-resolve\build\index.js:810:10)
        at Resolver._getVirtualMockPath (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-resolve\build\index.js:1004:84)
        at Resolver._getAbsolutePath (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-resolve\build\index.js:984:98)
        at Resolver.getModuleID (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-resolve\build\index.js:949:31)
        at Runtime._shouldMockCjs (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-runtime\build\index.js:1486:37)
        at Runtime.requireModuleOrMock (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-runtime\build\index.js:961:16)
        at cleanupTestData (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\src\__tests__\helpers\testUtils.ts:171:32)
        at Object.<anonymous> (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\src\__tests__\routes\products.test.ts:6:26)
        at Promise.finally.completed (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:1557:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:1497:10)
        at _callCircusHook (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:976:40)
        at _runTest (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:949:5)
        at C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:849:7
        at _runTestsForDescribeBlock (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:862:11)
        at _runTestsForDescribeBlock (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:857:11)
        at run (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:761:3)
        at runAndTransformResultsToJestFormat (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\jestAdapterInit.js:1918:21)
        at jestAdapter (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-circus\build\runner.js:101:19)
        at runTestInternal (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-runner\build\testWorker.js:275:16)
        at runTest (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-runner\build\testWorker.js:343:7)
        at Object.worker (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-runner\build\testWorker.js:497:12) {
      code: 'MODULE_NOT_FOUND',
      hint: '',
      requireStack: undefined,
      siblingWithSimilarExtensionFound: false,
      moduleName: '../../models/TeamInvitation',
      _originalMessage: "Cannot find module '../../models/TeamInvitation' from 'src/__tests__/helpers/testUtils.ts'"
    }

    [0m [90m 180 |[39m     ])[33m;[39m
     [90m 181 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 182 |[39m     console[33m.[39merror([32m'Cleanup error:'[39m[33m,[39m error)[33m;[39m
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 183 |[39m   }
     [90m 184 |[39m }[33m;[39m
     [90m 185 |[39m[0m

      at cleanupTestData (src/__tests__/helpers/testUtils.ts:182:13)
      at Object.<anonymous> (src/__tests__/routes/products.test.ts:6:26)

(node:41424) [MONGOOSE] Warning: Duplicate schema index on {"timestamp":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
(Use `node --trace-warnings ...` to show where the warning was created)
  console.error
    ‚ùå Test cleanup failed: MongooseError: Operation `partners.deleteMany()` buffering timed out after 10000ms
        at Timeout.<anonymous> (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\mongoose\lib\drivers\node-mongodb-native\collection.js:187:23)
        at listOnTimeout (node:internal/timers:573:17)
        at processTimers (node:internal/timers:514:7)

    [0m [90m 26 |[39m     }
     [90m 27 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 28 |[39m     console[33m.[39merror([32m'‚ùå Test cleanup failed:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 29 |[39m   }
     [90m 30 |[39m })[33m;[39m
     [90m 31 |[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:28:13)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 44.5% (263mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 25.5% (151mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 45.9% (271.5mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 27.8% (164.4mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 47.4% (280.2mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 29.8% (176.4mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 49.5% (292.7mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 31.5% (186.4mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 51.2% (303mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 33.6% (198.5mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)

  console.error
    ‚ùå Test cleanup failed: MongooseError: Operation `merchants.deleteMany()` buffering timed out after 10000ms
        at Timeout.<anonymous> (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\mongoose\lib\drivers\node-mongodb-native\collection.js:187:23)
        at listOnTimeout (node:internal/timers:573:17)
        at processTimers (node:internal/timers:514:7)

    [0m [90m 26 |[39m     }
     [90m 27 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 28 |[39m     console[33m.[39merror([32m'‚ùå Test cleanup failed:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 29 |[39m   }
     [90m 30 |[39m })[33m;[39m
     [90m 31 |[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:28:13)

  console.error
    ‚ùå Test database disconnection failed: TypeError: Cannot read properties of undefined (reading 'stop')
        at Object.<anonymous> (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\src\__tests__\setup.ts:36:23)

    [0m [90m 37 |[39m     console[33m.[39mlog([32m'‚úÖ Test database disconnected'[39m)[33m;[39m
     [90m 38 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 39 |[39m     console[33m.[39merror([32m'‚ùå Test database disconnection failed:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 40 |[39m   }
     [90m 41 |[39m })[33m;[39m
     [90m 42 |[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:39:13)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 52.5% (310.3mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 36% (212.8mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)

  console.error
    ‚ùå Test cleanup failed: MongooseError: Operation `partners.deleteMany()` buffering timed out after 10000ms
        at Timeout.<anonymous> (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\mongoose\lib\drivers\node-mongodb-native\collection.js:187:23)
        at listOnTimeout (node:internal/timers:573:17)
        at processTimers (node:internal/timers:514:7)

    [0m [90m 26 |[39m     }
     [90m 27 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 28 |[39m     console[33m.[39merror([32m'‚ùå Test cleanup failed:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 29 |[39m   }
     [90m 30 |[39m })[33m;[39m
     [90m 31 |[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:28:13)

FAIL src/__tests__/routes/products.test.ts (138.148 s)
  Product Routes
    √ó placeholder test (11524 ms)

  ‚óè Product Routes ‚Ä∫ placeholder test

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m  5 |[39m
     [90m  6 |[39m [90m// Setup before all tests[39m
    [31m[1m>[22m[39m[90m  7 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m  8 |[39m   [36mtry[39m {
     [90m  9 |[39m     mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 10 |[39m     [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:7:1)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 53.5% (316.6mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 38% (224.6mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 54.9% (324.8mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)

FAIL src/__tests__/routes/auth.test.ts (142.695 s)
  Auth Routes
    √ó placeholder test (10795 ms)

  ‚óè Auth Routes ‚Ä∫ placeholder test

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m  5 |[39m
     [90m  6 |[39m [90m// Setup before all tests[39m
    [31m[1m>[22m[39m[90m  7 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m  8 |[39m   [36mtry[39m {
     [90m  9 |[39m     mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 10 |[39m     [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:7:1)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 39.7% (235mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 56.5% (334mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 41.8% (247mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 57.4% (339.6mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 44.3% (262mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 58.3% (345.1mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 45.9% (271.6mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)

  console.error
    ‚ùå Test cleanup failed: MongooseError: Operation `partners.deleteMany()` buffering timed out after 10000ms
        at Timeout.<anonymous> (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\mongoose\lib\drivers\node-mongodb-native\collection.js:187:23)
        at listOnTimeout (node:internal/timers:573:17)
        at processTimers (node:internal/timers:514:7)

    [0m [90m 26 |[39m     }
     [90m 27 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 28 |[39m     console[33m.[39merror([32m'‚ùå Test cleanup failed:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 29 |[39m   }
     [90m 30 |[39m })[33m;[39m
     [90m 31 |[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:28:13)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 59.9% (354.2mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 47.6% (281.6mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 61.4% (363.3mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 49.3% (291.9mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 62.6% (370.1mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 50.9% (300.8mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 52.6% (311.4mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 64% (378.7mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 54.2% (320.6mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 65% (384.4mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)

  console.error
    ‚ùå Test cleanup failed: MongooseError: Operation `userachievements.deleteMany()` buffering timed out after 10000ms
        at Timeout.<anonymous> (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\mongoose\lib\drivers\node-mongodb-native\collection.js:187:23)
        at listOnTimeout (node:internal/timers:573:17)
        at processTimers (node:internal/timers:514:7)

    [0m [90m 26 |[39m     }
     [90m 27 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 28 |[39m     console[33m.[39merror([32m'‚ùå Test cleanup failed:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 29 |[39m   }
     [90m 30 |[39m })[33m;[39m
     [90m 31 |[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:28:13)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 56.1% (332.2mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 66.3% (392.2mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)

  console.error
    ‚ùå Test cleanup failed: MongooseError: Operation `partners.deleteMany()` buffering timed out after 10000ms
        at Timeout.<anonymous> (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\mongoose\lib\drivers\node-mongodb-native\collection.js:187:23)
        at listOnTimeout (node:internal/timers:573:17)
        at processTimers (node:internal/timers:514:7)

    [0m [90m 26 |[39m     }
     [90m 27 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 28 |[39m     console[33m.[39merror([32m'‚ùå Test cleanup failed:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 29 |[39m   }
     [90m 30 |[39m })[33m;[39m
     [90m 31 |[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:28:13)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 58.2% (344.6mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 66.9% (395.9mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 59.7% (353.4mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 68.6% (405.9mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 61.8% (365.4mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 69.8% (412.8mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 63.5% (375.4mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 71.3% (421.6mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)

  console.error
    ‚ùå Test cleanup failed: MongooseError: Operation `userachievements.deleteMany()` buffering timed out after 10000ms
        at Timeout.<anonymous> (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\mongoose\lib\drivers\node-mongodb-native\collection.js:187:23)
        at listOnTimeout (node:internal/timers:573:17)
        at processTimers (node:internal/timers:514:7)

    [0m [90m 26 |[39m     }
     [90m 27 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 28 |[39m     console[33m.[39merror([32m'‚ùå Test cleanup failed:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 29 |[39m   }
     [90m 30 |[39m })[33m;[39m
     [90m 31 |[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:28:13)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 65.4% (387mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 72.2% (427mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 67.3% (398.4mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 73.4% (434.2mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)

  console.error
    ‚ùå Test cleanup failed: MongooseError: Operation `partners.deleteMany()` buffering timed out after 10000ms
        at Timeout.<anonymous> (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\mongoose\lib\drivers\node-mongodb-native\collection.js:187:23)
        at listOnTimeout (node:internal/timers:573:17)
        at processTimers (node:internal/timers:514:7)

    [0m [90m 26 |[39m     }
     [90m 27 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 28 |[39m     console[33m.[39merror([32m'‚ùå Test cleanup failed:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 29 |[39m   }
     [90m 30 |[39m })[33m;[39m
     [90m 31 |[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:28:13)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 69.1% (409mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 75% (443.6mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 71.2% (421.2mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 76.6% (453.1mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 73.1% (432.6mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 76.8% (454.4mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)

  console.error
    ‚ùå Test cleanup failed: MongooseError: Operation `userachievements.deleteMany()` buffering timed out after 10000ms
        at Timeout.<anonymous> (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\mongoose\lib\drivers\node-mongodb-native\collection.js:187:23)
        at listOnTimeout (node:internal/timers:573:17)
        at processTimers (node:internal/timers:514:7)

    [0m [90m 26 |[39m     }
     [90m 27 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 28 |[39m     console[33m.[39merror([32m'‚ùå Test cleanup failed:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 29 |[39m   }
     [90m 30 |[39m })[33m;[39m
     [90m 31 |[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:28:13)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 76.3% (451.5mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 76.9% (455.2mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)

  console.log
    ‚úÖ [PAYMENT GATEWAY] Stripe initialized

      at new PaymentGatewayService (src/services/paymentGatewayService.ts:90:15)

  console.log
    ‚úÖ [PAYMENT GATEWAY] Stripe initialized

      at new PaymentGatewayService (src/services/paymentGatewayService.ts:90:15)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 78.7% (465.6mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 77.2% (456.5mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 80.3% (475mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)

  console.error
    ‚ùå Test cleanup failed: MongooseError: Operation `partners.deleteMany()` buffering timed out after 10000ms
        at Timeout.<anonymous> (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\mongoose\lib\drivers\node-mongodb-native\collection.js:187:23)
        at listOnTimeout (node:internal/timers:573:17)
        at processTimers (node:internal/timers:514:7)

    [0m [90m 26 |[39m     }
     [90m 27 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 28 |[39m     console[33m.[39merror([32m'‚ùå Test cleanup failed:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 29 |[39m   }
     [90m 30 |[39m })[33m;[39m
     [90m 31 |[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:28:13)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 77.3% (457.6mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 82.9% (490.4mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 86.5% (511.8mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 77.5% (458.6mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)

  console.log
    ‚úÖ [PAYMENT GATEWAY] Stripe initialized

      at new PaymentGatewayService (src/services/paymentGatewayService.ts:90:15)

  console.error
    ‚ùå Test cleanup failed: MongooseError: Operation `userachievements.deleteMany()` buffering timed out after 10000ms
        at Timeout.<anonymous> (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\mongoose\lib\drivers\node-mongodb-native\collection.js:187:23)
        at listOnTimeout (node:internal/timers:573:17)
        at processTimers (node:internal/timers:514:7)

    [0m [90m 26 |[39m     }
     [90m 27 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 28 |[39m     console[33m.[39merror([32m'‚ùå Test cleanup failed:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 29 |[39m   }
     [90m 30 |[39m })[33m;[39m
     [90m 31 |[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:28:13)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 77.6% (459mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 89.3% (528.6mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 77.8% (460.3mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 92% (544.5mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 95.5% (565.3mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 78% (461.4mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)

  console.error
    ‚ùå Test cleanup failed: MongooseError: Operation `partners.deleteMany()` buffering timed out after 10000ms
        at Timeout.<anonymous> (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\mongoose\lib\drivers\node-mongodb-native\collection.js:187:23)
        at listOnTimeout (node:internal/timers:573:17)
        at processTimers (node:internal/timers:514:7)

    [0m [90m 26 |[39m     }
     [90m 27 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 28 |[39m     console[33m.[39merror([32m'‚ùå Test cleanup failed:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 29 |[39m   }
     [90m 30 |[39m })[33m;[39m
     [90m 31 |[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:28:13)

  console.log
    ‚úÖ [STRIPE SERVICE] Stripe initialized successfully

      at StripeService.initializeStripe (src/services/stripeService.ts:28:15)

  console.log
    ‚úÖ [STRIPE SERVICE] Stripe initialized successfully

      at StripeService.initializeStripe (src/services/stripeService.ts:28:15)

  console.log
    ‚úÖ [STRIPE SERVICE] Stripe initialized successfully

      at StripeService.initializeStripe (src/services/stripeService.ts:28:15)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 98.5% (582.6mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 78.4% (464mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 100% (591.6mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at WriteStream.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:599:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 78.5% (464.7mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)

  console.error
    ‚ùå Test cleanup failed: MongooseError: Operation `userachievements.deleteMany()` buffering timed out after 10000ms
        at Timeout.<anonymous> (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\mongoose\lib\drivers\node-mongodb-native\collection.js:187:23)
        at listOnTimeout (node:internal/timers:573:17)
        at processTimers (node:internal/timers:514:7)

    [0m [90m 26 |[39m     }
     [90m 27 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 28 |[39m     console[33m.[39merror([32m'‚ùå Test cleanup failed:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 29 |[39m   }
     [90m 30 |[39m })[33m;[39m
     [90m 31 |[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:28:13)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 100% (0mb / 0mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at WriteStream.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:599:16)

  console.log
    ‚ö†Ô∏è  Rate limiting is DISABLED for development

      at Object.<anonymous> (src/middleware/rateLimiter.ts:23:11)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 78.9% (466.9mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)

  console.log
    ‚ö†Ô∏è  Rate limiting is DISABLED for development

      at Object.<anonymous> (src/middleware/rateLimiter.ts:23:11)

  console.log
    ‚ö†Ô∏è  Rate limiting is DISABLED for development

      at Object.<anonymous> (src/middleware/rateLimiter.ts:23:11)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 79.1% (468.2mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 79.4% (469.6mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)

  console.error
    ‚ùå Test cleanup failed: MongooseError: Operation `partners.deleteMany()` buffering timed out after 10000ms
        at Timeout.<anonymous> (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\mongoose\lib\drivers\node-mongodb-native\collection.js:187:23)
        at listOnTimeout (node:internal/timers:573:17)
        at processTimers (node:internal/timers:514:7)

    [0m [90m 26 |[39m     }
     [90m 27 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 28 |[39m     console[33m.[39merror([32m'‚ùå Test cleanup failed:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 29 |[39m   }
     [90m 30 |[39m })[33m;[39m
     [90m 31 |[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:28:13)

  console.error
    ‚ùå Test database disconnection failed: TypeError: Cannot read properties of undefined (reading 'stop')
        at Object.<anonymous> (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\src\__tests__\setup.ts:36:23)

    [0m [90m 37 |[39m     console[33m.[39mlog([32m'‚úÖ Test database disconnected'[39m)[33m;[39m
     [90m 38 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 39 |[39m     console[33m.[39merror([32m'‚ùå Test database disconnection failed:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 40 |[39m   }
     [90m 41 |[39m })[33m;[39m
     [90m 42 |[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:39:13)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 79.5% (470.4mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 79.7% (471.5mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 79.8% (472mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 79.9% (472.7mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 80.4% (475.7mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 80.6% (477.1mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 80.9% (478.4mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 81.1% (479.7mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 81.4% (481.5mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 81.7% (483.4mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 82% (485mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 82.1% (485.6mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 82.4% (487.8mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 82.9% (490.2mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 83.2% (492.5mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 84.6% (500.3mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 88% (520.7mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 90.9% (537.6mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 94% (556.2mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 97.8% (578.8mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at IncomingMessage.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:609:16)

  console.error
    ‚ùå Test cleanup failed: MongooseError: Operation `userachievements.deleteMany()` buffering timed out after 10000ms
        at Timeout.<anonymous> (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\mongoose\lib\drivers\node-mongodb-native\collection.js:187:23)
        at listOnTimeout (node:internal/timers:573:17)
        at processTimers (node:internal/timers:514:7)

    [0m [90m 26 |[39m     }
     [90m 27 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 28 |[39m     console[33m.[39merror([32m'‚ùå Test cleanup failed:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 29 |[39m   }
     [90m 30 |[39m })[33m;[39m
     [90m 31 |[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:28:13)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "Downloading MongoDB "7.0.14": 100% (591.6mb / 591.6mb)[0G".

      at console.log (node_modules/@jest/console/build/index.js:311:10)
      at MongoBinaryDownload.printDownloadProgress (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:663:15)
      at WriteStream.<anonymous> (node_modules/mongodb-memory-server-core/src/util/MongoBinaryDownload.ts:599:16)

node:internal/fs/promises:779
  return await PromisePrototypeThen(
         ^

Error: ENOENT: no such file or directory, rename 'C:\Users\Mukul raj\.cache\mongodb-binaries\mongodb-windows-x86_64-7.0.14.zip.downloading' -> 'C:\Users\Mukul raj\.cache\mongodb-binaries\mongodb-windows-x86_64-7.0.14.zip'
    at Object.rename (node:internal/fs/promises:779:10)
    at WriteStream.<anonymous> (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\mongodb-memory-server-core\src\util\MongoBinaryDownload.ts:602:11) {
  errno: -4058,
  code: 'ENOENT',
  syscall: 'rename',
  path: 'C:\\Users\\Mukul raj\\.cache\\mongodb-binaries\\mongodb-windows-x86_64-7.0.14.zip.downloading',
  dest: 'C:\\Users\\Mukul raj\\.cache\\mongodb-binaries\\mongodb-windows-x86_64-7.0.14.zip'
}

Node.js v20.14.0
FAIL src/__tests__/partnerService.test.ts (495.461 s)
  ‚óè Partner Service - Core Functionality ‚Ä∫ getOrCreatePartner ‚Ä∫ should create a new partner profile for first-time user

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m  5 |[39m
     [90m  6 |[39m [90m// Setup before all tests[39m
    [31m[1m>[22m[39m[90m  7 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m  8 |[39m   [36mtry[39m {
     [90m  9 |[39m     mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 10 |[39m     [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:7:1)

  ‚óè Partner Service - Core Functionality ‚Ä∫ getOrCreatePartner ‚Ä∫ should create a new partner profile for first-time user

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m 15 |[39m
     [90m 16 |[39m [90m// Setup: Start in-memory MongoDB before all tests[39m
    [31m[1m>[22m[39m[90m 17 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m 18 |[39m   mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 19 |[39m   [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m
     [90m 20 |[39m   [0m

      at Object.<anonymous> (src/__tests__/partnerService.test.ts:17:1)

  ‚óè Partner Service - Core Functionality ‚Ä∫ getOrCreatePartner ‚Ä∫ should return existing partner if already created

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m  5 |[39m
     [90m  6 |[39m [90m// Setup before all tests[39m
    [31m[1m>[22m[39m[90m  7 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m  8 |[39m   [36mtry[39m {
     [90m  9 |[39m     mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 10 |[39m     [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:7:1)

  ‚óè Partner Service - Core Functionality ‚Ä∫ getOrCreatePartner ‚Ä∫ should return existing partner if already created

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m 15 |[39m
     [90m 16 |[39m [90m// Setup: Start in-memory MongoDB before all tests[39m
    [31m[1m>[22m[39m[90m 17 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m 18 |[39m   mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 19 |[39m   [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m
     [90m 20 |[39m   [0m

      at Object.<anonymous> (src/__tests__/partnerService.test.ts:17:1)

  ‚óè Partner Service - Core Functionality ‚Ä∫ getOrCreatePartner ‚Ä∫ should throw error if user not found

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m  5 |[39m
     [90m  6 |[39m [90m// Setup before all tests[39m
    [31m[1m>[22m[39m[90m  7 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m  8 |[39m   [36mtry[39m {
     [90m  9 |[39m     mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 10 |[39m     [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:7:1)

  ‚óè Partner Service - Core Functionality ‚Ä∫ getOrCreatePartner ‚Ä∫ should throw error if user not found

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m 15 |[39m
     [90m 16 |[39m [90m// Setup: Start in-memory MongoDB before all tests[39m
    [31m[1m>[22m[39m[90m 17 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m 18 |[39m   mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 19 |[39m   [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m
     [90m 20 |[39m   [0m

      at Object.<anonymous> (src/__tests__/partnerService.test.ts:17:1)

  ‚óè Partner Service - Core Functionality ‚Ä∫ claimMilestoneReward - MongoDB Transactions ‚Ä∫ should claim milestone reward and credit wallet atomically

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m  5 |[39m
     [90m  6 |[39m [90m// Setup before all tests[39m
    [31m[1m>[22m[39m[90m  7 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m  8 |[39m   [36mtry[39m {
     [90m  9 |[39m     mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 10 |[39m     [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:7:1)

  ‚óè Partner Service - Core Functionality ‚Ä∫ claimMilestoneReward - MongoDB Transactions ‚Ä∫ should claim milestone reward and credit wallet atomically

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m 15 |[39m
     [90m 16 |[39m [90m// Setup: Start in-memory MongoDB before all tests[39m
    [31m[1m>[22m[39m[90m 17 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m 18 |[39m   mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 19 |[39m   [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m
     [90m 20 |[39m   [0m

      at Object.<anonymous> (src/__tests__/partnerService.test.ts:17:1)

  ‚óè Partner Service - Core Functionality ‚Ä∫ claimMilestoneReward - MongoDB Transactions ‚Ä∫ should rollback if wallet creation fails

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m  5 |[39m
     [90m  6 |[39m [90m// Setup before all tests[39m
    [31m[1m>[22m[39m[90m  7 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m  8 |[39m   [36mtry[39m {
     [90m  9 |[39m     mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 10 |[39m     [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:7:1)

  ‚óè Partner Service - Core Functionality ‚Ä∫ claimMilestoneReward - MongoDB Transactions ‚Ä∫ should rollback if wallet creation fails

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m 15 |[39m
     [90m 16 |[39m [90m// Setup: Start in-memory MongoDB before all tests[39m
    [31m[1m>[22m[39m[90m 17 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m 18 |[39m   mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 19 |[39m   [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m
     [90m 20 |[39m   [0m

      at Object.<anonymous> (src/__tests__/partnerService.test.ts:17:1)

  ‚óè Partner Service - Core Functionality ‚Ä∫ claimMilestoneReward - MongoDB Transactions ‚Ä∫ should prevent claiming same milestone twice

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m  5 |[39m
     [90m  6 |[39m [90m// Setup before all tests[39m
    [31m[1m>[22m[39m[90m  7 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m  8 |[39m   [36mtry[39m {
     [90m  9 |[39m     mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 10 |[39m     [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:7:1)

  ‚óè Partner Service - Core Functionality ‚Ä∫ claimMilestoneReward - MongoDB Transactions ‚Ä∫ should prevent claiming same milestone twice

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m 15 |[39m
     [90m 16 |[39m [90m// Setup: Start in-memory MongoDB before all tests[39m
    [31m[1m>[22m[39m[90m 17 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m 18 |[39m   mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 19 |[39m   [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m
     [90m 20 |[39m   [0m

      at Object.<anonymous> (src/__tests__/partnerService.test.ts:17:1)

  ‚óè Partner Service - Core Functionality ‚Ä∫ claimMilestoneReward - MongoDB Transactions ‚Ä∫ should throw error if milestone not achieved yet

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m  5 |[39m
     [90m  6 |[39m [90m// Setup before all tests[39m
    [31m[1m>[22m[39m[90m  7 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m  8 |[39m   [36mtry[39m {
     [90m  9 |[39m     mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 10 |[39m     [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:7:1)

  ‚óè Partner Service - Core Functionality ‚Ä∫ claimMilestoneReward - MongoDB Transactions ‚Ä∫ should throw error if milestone not achieved yet

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m 15 |[39m
     [90m 16 |[39m [90m// Setup: Start in-memory MongoDB before all tests[39m
    [31m[1m>[22m[39m[90m 17 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m 18 |[39m   mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 19 |[39m   [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m
     [90m 20 |[39m   [0m

      at Object.<anonymous> (src/__tests__/partnerService.test.ts:17:1)

  ‚óè Partner Service - Core Functionality ‚Ä∫ claimTaskReward - MongoDB Transactions ‚Ä∫ should claim task reward with atomic transaction

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m  5 |[39m
     [90m  6 |[39m [90m// Setup before all tests[39m
    [31m[1m>[22m[39m[90m  7 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m  8 |[39m   [36mtry[39m {
     [90m  9 |[39m     mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 10 |[39m     [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:7:1)

  ‚óè Partner Service - Core Functionality ‚Ä∫ claimTaskReward - MongoDB Transactions ‚Ä∫ should claim task reward with atomic transaction

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m 15 |[39m
     [90m 16 |[39m [90m// Setup: Start in-memory MongoDB before all tests[39m
    [31m[1m>[22m[39m[90m 17 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m 18 |[39m   mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 19 |[39m   [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m
     [90m 20 |[39m   [0m

      at Object.<anonymous> (src/__tests__/partnerService.test.ts:17:1)

  ‚óè Partner Service - Core Functionality ‚Ä∫ claimTaskReward - MongoDB Transactions ‚Ä∫ should prevent claiming incomplete task

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m  5 |[39m
     [90m  6 |[39m [90m// Setup before all tests[39m
    [31m[1m>[22m[39m[90m  7 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m  8 |[39m   [36mtry[39m {
     [90m  9 |[39m     mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 10 |[39m     [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:7:1)

  ‚óè Partner Service - Core Functionality ‚Ä∫ claimTaskReward - MongoDB Transactions ‚Ä∫ should prevent claiming incomplete task

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m 15 |[39m
     [90m 16 |[39m [90m// Setup: Start in-memory MongoDB before all tests[39m
    [31m[1m>[22m[39m[90m 17 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m 18 |[39m   mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 19 |[39m   [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m
     [90m 20 |[39m   [0m

      at Object.<anonymous> (src/__tests__/partnerService.test.ts:17:1)

  ‚óè Partner Service - Core Functionality ‚Ä∫ claimJackpotReward - MongoDB Transactions ‚Ä∫ should claim jackpot reward with atomic transaction

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m  5 |[39m
     [90m  6 |[39m [90m// Setup before all tests[39m
    [31m[1m>[22m[39m[90m  7 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m  8 |[39m   [36mtry[39m {
     [90m  9 |[39m     mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 10 |[39m     [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:7:1)

  ‚óè Partner Service - Core Functionality ‚Ä∫ claimJackpotReward - MongoDB Transactions ‚Ä∫ should claim jackpot reward with atomic transaction

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m 15 |[39m
     [90m 16 |[39m [90m// Setup: Start in-memory MongoDB before all tests[39m
    [31m[1m>[22m[39m[90m 17 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m 18 |[39m   mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 19 |[39m   [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m
     [90m 20 |[39m   [0m

      at Object.<anonymous> (src/__tests__/partnerService.test.ts:17:1)

  ‚óè Partner Service - Core Functionality ‚Ä∫ claimJackpotReward - MongoDB Transactions ‚Ä∫ should throw error for invalid jackpot amount

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m  5 |[39m
     [90m  6 |[39m [90m// Setup before all tests[39m
    [31m[1m>[22m[39m[90m  7 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m  8 |[39m   [36mtry[39m {
     [90m  9 |[39m     mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 10 |[39m     [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:7:1)

  ‚óè Partner Service - Core Functionality ‚Ä∫ claimJackpotReward - MongoDB Transactions ‚Ä∫ should throw error for invalid jackpot amount

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m 15 |[39m
     [90m 16 |[39m [90m// Setup: Start in-memory MongoDB before all tests[39m
    [31m[1m>[22m[39m[90m 17 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m 18 |[39m   mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 19 |[39m   [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m
     [90m 20 |[39m   [0m

      at Object.<anonymous> (src/__tests__/partnerService.test.ts:17:1)

  ‚óè Partner Service - Core Functionality ‚Ä∫ Level System - Timeframe Validation ‚Ä∫ should NOT allow upgrade if timeframe expired

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m  5 |[39m
     [90m  6 |[39m [90m// Setup before all tests[39m
    [31m[1m>[22m[39m[90m  7 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m  8 |[39m   [36mtry[39m {
     [90m  9 |[39m     mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 10 |[39m     [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:7:1)

  ‚óè Partner Service - Core Functionality ‚Ä∫ Level System - Timeframe Validation ‚Ä∫ should NOT allow upgrade if timeframe expired

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m 15 |[39m
     [90m 16 |[39m [90m// Setup: Start in-memory MongoDB before all tests[39m
    [31m[1m>[22m[39m[90m 17 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m 18 |[39m   mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 19 |[39m   [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m
     [90m 20 |[39m   [0m

      at Object.<anonymous> (src/__tests__/partnerService.test.ts:17:1)

  ‚óè Partner Service - Core Functionality ‚Ä∫ Level System - Timeframe Validation ‚Ä∫ should allow upgrade if both orders and timeframe requirements met

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m  5 |[39m
     [90m  6 |[39m [90m// Setup before all tests[39m
    [31m[1m>[22m[39m[90m  7 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m  8 |[39m   [36mtry[39m {
     [90m  9 |[39m     mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 10 |[39m     [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:7:1)

  ‚óè Partner Service - Core Functionality ‚Ä∫ Level System - Timeframe Validation ‚Ä∫ should allow upgrade if both orders and timeframe requirements met

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m 15 |[39m
     [90m 16 |[39m [90m// Setup: Start in-memory MongoDB before all tests[39m
    [31m[1m>[22m[39m[90m 17 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m 18 |[39m   mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 19 |[39m   [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m
     [90m 20 |[39m   [0m

      at Object.<anonymous> (src/__tests__/partnerService.test.ts:17:1)

  ‚óè Partner Service - Core Functionality ‚Ä∫ Level Expiry Handling ‚Ä∫ should reset progress if level expired without reaching next level

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m  5 |[39m
     [90m  6 |[39m [90m// Setup before all tests[39m
    [31m[1m>[22m[39m[90m  7 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m  8 |[39m   [36mtry[39m {
     [90m  9 |[39m     mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 10 |[39m     [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:7:1)

  ‚óè Partner Service - Core Functionality ‚Ä∫ Level Expiry Handling ‚Ä∫ should reset progress if level expired without reaching next level

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m 15 |[39m
     [90m 16 |[39m [90m// Setup: Start in-memory MongoDB before all tests[39m
    [31m[1m>[22m[39m[90m 17 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m 18 |[39m   mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 19 |[39m   [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m
     [90m 20 |[39m   [0m

      at Object.<anonymous> (src/__tests__/partnerService.test.ts:17:1)

  ‚óè Partner Service - Core Functionality ‚Ä∫ Level Expiry Handling ‚Ä∫ should auto-upgrade if level expired with requirements met

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m  5 |[39m
     [90m  6 |[39m [90m// Setup before all tests[39m
    [31m[1m>[22m[39m[90m  7 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m  8 |[39m   [36mtry[39m {
     [90m  9 |[39m     mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 10 |[39m     [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:7:1)

  ‚óè Partner Service - Core Functionality ‚Ä∫ Level Expiry Handling ‚Ä∫ should auto-upgrade if level expired with requirements met

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m 15 |[39m
     [90m 16 |[39m [90m// Setup: Start in-memory MongoDB before all tests[39m
    [31m[1m>[22m[39m[90m 17 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m 18 |[39m   mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 19 |[39m   [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m
     [90m 20 |[39m   [0m

      at Object.<anonymous> (src/__tests__/partnerService.test.ts:17:1)

  ‚óè Partner Service - Input Validation ‚Ä∫ should validate milestone ID format

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m  5 |[39m
     [90m  6 |[39m [90m// Setup before all tests[39m
    [31m[1m>[22m[39m[90m  7 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m  8 |[39m   [36mtry[39m {
     [90m  9 |[39m     mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 10 |[39m     [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:7:1)

  ‚óè Partner Service - Input Validation ‚Ä∫ should validate milestone ID format

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m 15 |[39m
     [90m 16 |[39m [90m// Setup: Start in-memory MongoDB before all tests[39m
    [31m[1m>[22m[39m[90m 17 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m 18 |[39m   mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 19 |[39m   [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m
     [90m 20 |[39m   [0m

      at Object.<anonymous> (src/__tests__/partnerService.test.ts:17:1)

  ‚óè Partner Service - Input Validation ‚Ä∫ should validate jackpot amounts

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m  5 |[39m
     [90m  6 |[39m [90m// Setup before all tests[39m
    [31m[1m>[22m[39m[90m  7 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m  8 |[39m   [36mtry[39m {
     [90m  9 |[39m     mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 10 |[39m     [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:7:1)

  ‚óè Partner Service - Input Validation ‚Ä∫ should validate jackpot amounts

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m 15 |[39m
     [90m 16 |[39m [90m// Setup: Start in-memory MongoDB before all tests[39m
    [31m[1m>[22m[39m[90m 17 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m 18 |[39m   mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 19 |[39m   [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m
     [90m 20 |[39m   [0m

      at Object.<anonymous> (src/__tests__/partnerService.test.ts:17:1)

  ‚óè Partner Service - Input Validation ‚Ä∫ should validate task types

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m  5 |[39m
     [90m  6 |[39m [90m// Setup before all tests[39m
    [31m[1m>[22m[39m[90m  7 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m  8 |[39m   [36mtry[39m {
     [90m  9 |[39m     mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 10 |[39m     [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:7:1)

  ‚óè Partner Service - Input Validation ‚Ä∫ should validate task types

    thrown: "Exceeded timeout of 30000 ms for a hook.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

    [0m [90m 15 |[39m
     [90m 16 |[39m [90m// Setup: Start in-memory MongoDB before all tests[39m
    [31m[1m>[22m[39m[90m 17 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m    |[39m [31m[1m^[22m[39m
     [90m 18 |[39m   mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m 19 |[39m   [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m
     [90m 20 |[39m   [0m

      at Object.<anonymous> (src/__tests__/partnerService.test.ts:17:1)


  ‚óè Test suite failed to run

    TypeError: Cannot read properties of undefined (reading 'stop')

    [0m [90m 26 |[39m afterAll([36masync[39m () [33m=>[39m {
     [90m 27 |[39m   [36mawait[39m mongoose[33m.[39mdisconnect()[33m;[39m
    [31m[1m>[22m[39m[90m 28 |[39m   [36mawait[39m mongoServer[33m.[39mstop()[33m;[39m
     [90m    |[39m                     [31m[1m^[22m[39m
     [90m 29 |[39m   console[33m.[39mlog([32m'‚úÖ Test database disconnected'[39m)[33m;[39m
     [90m 30 |[39m })[33m;[39m
     [90m 31 |[39m[0m

      at Object.<anonymous> (src/__tests__/partnerService.test.ts:28:21)

  console.warn
    Starting the MongoMemoryServer Instance failed, enable debug log for more information. Error:
     [UnableToUnlockLockfileError: Cannot unlock file "C:\Users\Mukul raj\.cache\mongodb-binaries\7.0.14.lock", because it is not locked by this process] {
      thisInstance: false,
      file: 'C:\\Users\\Mukul raj\\.cache\\mongodb-binaries\\7.0.14.lock'
    }

    [0m [90m  7 |[39m beforeAll([36masync[39m () [33m=>[39m {
     [90m  8 |[39m   [36mtry[39m {
    [31m[1m>[22m[39m[90m  9 |[39m     mongoServer [33m=[39m [36mawait[39m [33mMongoMemoryServer[39m[33m.[39mcreate()[33m;[39m
     [90m    |[39m                   [31m[1m^[22m[39m
     [90m 10 |[39m     [36mconst[39m mongoUri [33m=[39m mongoServer[33m.[39mgetUri()[33m;[39m
     [90m 11 |[39m
     [90m 12 |[39m     [36mawait[39m mongoose[33m.[39mconnect(mongoUri)[33m;[39m[0m

      at node_modules/mongodb-memory-server-core/src/MongoMemoryServer.ts:359:17
      at MongoMemoryServer.start (node_modules/mongodb-memory-server-core/src/MongoMemoryServer.ts:350:5)
      at Function.create (node_modules/mongodb-memory-server-core/src/MongoMemoryServer.ts:317:5)
      at Object.<anonymous> (src/__tests__/setup.ts:9:19)

  console.error
    ‚ùå Test database connection failed: [UnableToUnlockLockfileError: Cannot unlock file "C:\Users\Mukul raj\.cache\mongodb-binaries\7.0.14.lock", because it is not locked by this process] {
      thisInstance: false,
      file: 'C:\\Users\\Mukul raj\\.cache\\mongodb-binaries\\7.0.14.lock'
    }

    [0m [90m 13 |[39m     console[33m.[39mlog([32m'‚úÖ Test database connected'[39m)[33m;[39m
     [90m 14 |[39m   } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 15 |[39m     console[33m.[39merror([32m'‚ùå Test database connection failed:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 16 |[39m     [36mthrow[39m error[33m;[39m
     [90m 17 |[39m   }
     [90m 18 |[39m })[33m;[39m[0m

      at Object.<anonymous> (src/__tests__/setup.ts:15:13)

node:events:497
      throw er; // Unhandled 'error' event
      ^

Error: write EPIPE
    at target._send (node:internal/child_process:879:20)
    at target.send (node:internal/child_process:752:19)
    at ChildProcessWorker.initialize (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-worker\build\index.js:798:17)
    at ChildProcessWorker._onExit (C:\Users\Mukul raj\Downloads\rez-new\rez-app\user-backend\node_modules\jest-worker\build\index.js:932:12)
    at ChildProcess.emit (node:events:519:28)
    at ChildProcess._handle.onexit (node:internal/child_process:294:12)
Emitted 'error' event on ChildProcess instance at:
    at node:internal/child_process:883:39
    at process.processTicksAndRejections (node:internal/process/task_queues:77:11) {
  errno: -4047,
  code: 'EPIPE',
  syscall: 'write'
}

Node.js v20.14.0
